(this["webpackJsonpaccord-frontend"]=this["webpackJsonpaccord-frontend"]||[]).push([[0],{173:function(e,t,n){},193:function(e,t,n){},196:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){},214:function(e,t,n){},215:function(e,t,n){},553:function(e,t,n){},572:function(e,t,n){},573:function(e,t,n){"use strict";n.r(t);var c,a=n(1),r=n.n(a),i=n(34),s=n.n(i),o=n(19),l=n(24),d=(n(173),n(2)),u=n(6),b=n(10),j=n.n(b),f=n(0),m=function(e){return Object(f.jsx)("button",Object(u.a)(Object(u.a)({},e),{},{className:j()("rounded-full border-2 border-gray-400 secondary px-4 py-1",e.className),children:e.children}))},h=function(){var e=Object(d.c)((function(e){return e.auth.user}));return Object(f.jsxs)("nav",{className:"flex items-center justify-between h-15 p-4 px-8",children:[Object(f.jsxs)("a",{className:"logo",children:[Object(f.jsx)("span",{className:"font-bold text-white",children:"accord"}),Object(f.jsx)("span",{className:"text-gray-600",children:"."}),Object(f.jsx)("span",{className:"muted font-light",children:"app"})]}),Object(f.jsx)("div",{children:Object(f.jsx)(o.b,{to:e?"/channels/@me":"/login",children:Object(f.jsx)(m,{children:e?"App":"Login"})})})]})},p=n(18),O=n(91),v=n(76),g=Object(p.c)({name:"ui",initialState:{},reducers:{startedEditingMessage:function(e,t){var n=t.payload;e.editingMessageId=n},stoppedEditingMessage:function(e){delete e.editingMessageId},focusedResource:function(e,t){var n=t.payload;e.activeResource=n},focusedInvite:function(e,t){var n=t.payload;e.activeInvite=n},focusedUser:function(e,t){var n=t.payload;e.activeUser=n},pageSwitched:function(e,t){var n=t.payload;e.activeChannel=n.channel,e.activeGuild=n.guild},openedModal:function(e,t){var n=t.payload;e.openModal=n},closedModal:function(e){delete e.openModal},toggleDropdown:function(e,t){var n=t.payload;e.openDropdown=null===n||void 0===n?void 0:n.name},toggleSaveChanges:function(e,t){var n=t.payload;e.saveChangesOpen=n}}}),x=g.actions,N=g.reducer,y=function(e){return function(t,n){n().ui.saveChangesOpen!==e&&t(x.toggleSaveChanges(e))}},E=function(e){return function(t){t(x.focusedUser(e)),t(x.openedModal("UserProfile"))}},w=function(e){return function(){return v.a.emit("dialog",e)}},C=function(e){e(x.closedModal()),e(y(!1)),e(x.focusedUser(null))},I=n(15),S=function(e){var t=e.title,n=e.count,c=e.className;return Object(f.jsxs)("h2",{className:j()("uppercase font-bold text-xs tracking-wider",c),children:[t," ",void 0!==n&&"\u2014 ".concat(n)]})},A=n(56),_=n(159),T=n.n(_),k={sm:"rounded-lg 2xl:w-1/4 2xl:inset-x-1/3 2xl:inset-y-1/3   md:w-1/3 md:inset-x-1/3 md:inset-y-1/4",md:"rounded-lg 2xl:w-1/3 2xl:inset-x-1/3 2xl:inset-y-1/4   md:w-1/4 md:inset-x-1/3 md:inset-y-1/3",lg:"rounded-lg 2xl:w-1/3 2xl:inset-x-1/3 2xl:top-1/4       md:w-1/3 md:inset-x-1/3 md:top-20",xl:"rounded-lg 2xl:w-1/2 2xl:inset-x-1/4 2xl:top-1/4       md:w-1/3 md:inset-x-1/3 md:top-20",full:"h-full w-full"},M=function(e){var t=e.className,n=e.typeName,c=e.size,a=e.children,r=Object(d.b)(),i=Object(d.c)((function(e){return e.ui.openModal})),s=Object(A.b)().closeSnackbar;return Object(f.jsx)(T.a,{className:j()("bg-bg-primary overflow-auto fixed outline-none",t,k[null!==c&&void 0!==c?c:"sm"]),appElement:document.querySelector("#root"),isOpen:i===n,onRequestClose:function(){r(C),s("saveChanges")},children:a})},R=n(28),L=n(22),D=function(){return{Authorization:"Bearer ".concat(G())}},G=function(){return localStorage.getItem("token")},U={restCallBegan:Object(p.b)("api/restCallBegan"),restCallSucceded:Object(p.b)("api/restCallSucceeded"),restCallFailed:Object(p.b)("api/restCallFailed"),wsCallBegan:Object(p.b)("api/wsCallBegan"),wsCallSucceded:Object(p.b)("api/wsCallSucceeded"),wsCallFailed:Object(p.b)("api/wsCallFailed")},P=function(e,t){return function(n){var c=new FormData;c.append("file",e),n(U.restCallBegan({method:"post",url:"/upload",data:c,headers:Object(u.a)(Object(u.a)({},D()),{},{"Content-Type":"multipart/form-data"}),callback:t}))}},B=function(e){return function(t){return!e.some((function(e){return e.id===t.id}))}},V=Object(p.c)({name:"channels",initialState:[],reducers:{fetched:function(e,t){var n=t.payload;e.push.apply(e,Object(L.a)(n.filter(B(e))))},created:function(e,t){var n=t.payload;e.push(n.channel)},deleted:function(e,t){var n=t.payload,c=e.findIndex((function(e){return e.id===n.channelId}));e.splice(c,1)},updated:function(e,t){var n=t.payload,c=e.findIndex((function(e){return e.id===n.channelId}));Object.assign(e[c],n.partialChannel)}}}),H=V.actions,F=V.reducer,z=function(e){return function(t){t(U.wsCallBegan({event:"CHANNEL_DELETE",data:{channelId:e}}))}},W=function(e,t){return function(n){n(U.wsCallBegan({event:"CHANNEL_UPDATE",data:Object(u.a)({channelId:e},t)}))}},$=function(e){return Object(O.a)((function(e){return e.entities.channels}),(function(t){return t.find((function(t){return t.id===e}))}))},K=(n(193),function(e){return Object(u.a)(Object(u.a)({},e),{},{setTab:void 0,register:void 0,titleName:void 0,initialValue:void 0})}),Y=function(e){var t=e.label,n=e.name,c=e.register,a=e.options,r=e.type,i=e.autoFocus,s=e.className,o=e.disabled,l=n+"Input";return Object(f.jsxs)("div",{className:s,"data-v-ad6d2605":"",children:[t&&Object(f.jsx)("label",{htmlFor:l,className:"uppercase text-xs font-semibold","data-v-ad6d2605":"",children:t}),Object(f.jsx)("input",Object(u.a)(Object(u.a)(Object(u.a)({id:l,type:null!==r&&void 0!==r?r:"text",autoFocus:i,disabled:o},K(e)),null===c||void 0===c?void 0:c(n,Object(u.a)({},a))),{},{className:j()("block bg-bg-secondary rounded focus:outline-none w-full h-10 p-2 mt-2",{"h-12":"file"===r}),"data-v-ad6d2605":""}))]})},q=function(e){return Object(f.jsx)("button",Object(u.a)(Object(u.a)({},e),{},{className:"rounded-md py-1.5 px-4 ".concat(e.className),children:e.children}))},J=function(e){var t=Object(A.b)(),n=t.closeSnackbar,c=t.enqueueSnackbar,r=Object(d.b)(),i=Object(d.c)((function(e){return e.ui.saveChangesOpen}));Object(a.useEffect)((function(){i&&c("",{anchorOrigin:{vertical:"bottom",horizontal:"center"},content:l,key:"saveChanges",persist:!0})}),[i]);var s=function(t){n("saveChanges"),e.onSave(t),r(y(!1))},o=function(t){var c;for(var a in n("saveChanges"),e.obj){var i;null===(i=e.setValue)||void 0===i||i.call(e,a,e.obj[a])}null===(c=e.onReset)||void 0===c||c.call(e,t),r(y(!1))},l=function(){return Object(f.jsxs)("div",{id:"saveChanges",className:"opacity-95 flex justify-between rounded bg-black p-3 px-5",style:{width:"50vw"},children:[Object(f.jsx)("span",{className:"flex items-center flex-grow-1",children:"Careful \u2014 you have unsaved changes!"}),Object(f.jsxs)("span",{children:[Object(f.jsx)(q,{className:"bg-transparent font",onClick:o,children:"Reset"}),Object(f.jsx)(q,{className:"bg-success text-black ml-2",onClick:s,children:"Save"})]})]})};return null},Z=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.ui.activeChannel})),n=(Object(d.c)((function(e){return e.ui.activeGuild})),Object(R.a)()),c=n.register,a=n.handleSubmit,r=n.setValue;return Object(f.jsxs)("form",{onChange:function(){return e(y(!0))},className:"flex flex-col pt-14 px-10 pb-20 h-full mt-1",children:[Object(f.jsx)("header",{children:Object(f.jsx)("h1",{className:"text-xl font-bold inline",children:"Channel Overview"})}),Object(f.jsxs)("section",{className:"w-1/3",children:[Object(f.jsx)(Y,{label:"Name",name:"name",register:c,options:{value:t.name},className:"pt-5"}),Object(f.jsx)(Y,{label:"Summary",name:"summary",register:c,options:{value:t.summary},className:"pt-5"})]}),Object(f.jsx)(S,{className:"py-2 mt-5",title:"Advanced Settings"}),Object(f.jsx)("section",{children:Object(f.jsx)(q,{type:"button",onClick:function(){window.confirm("Are you sure you want to delete this guild?")&&e(z(t.id))},className:"bg-danger",children:"Delete"})}),Object(f.jsx)(J,{setValue:r,onSave:function(n){a((function(n){return e(W(t.id,n))}))(n)},obj:t})]})},Q=n(23),X=n(8),ee=n.n(X),te=n(25),ne=Object(p.c)({name:"guilds",initialState:[],reducers:{fetched:function(e,t){var n=t.payload;e.push.apply(e,Object(L.a)(n.filter(B(e))))},created:function(e,t){var n=t.payload;e.push(n.guild)},updated:function(e,t){var n=t.payload,c=e.find((function(e){return e.id===n.guildId}));Object.assign(c,n.partialGuild)},deleted:function(e,t){var n=t.payload,c=e.findIndex((function(e){return e.id===n.guildId}));e.splice(c,1)}}}),ce=ne.actions,ae=ne.reducer,re=function(e,t){return function(n){n(U.wsCallBegan({event:"GUILD_UPDATE",data:Object(u.a)({guildId:e},t)}))}},ie=function(e){return Object(O.a)((function(e){return e.entities.guilds}),(function(t){return t.find((function(t){return t.id===e}))}))},se=function(e){return Object(O.a)((function(e){return e.entities.channels}),(function(t){return t.filter((function(t){return t.guildId===e}))}))},oe=function(e){return Object(O.a)((function(e){return e.entities.roles}),(function(t){return t.filter((function(t){return t.guildId===e})).sort((n="position",function(e,t){return e[n]>t[n]?1:-1}));var n}))},le=n(11),de=n(13),ue=function(e){var t=e.ids;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("hr",{className:"mt-3 border-bg-primary pt-2"}),t.map((function(e){var t=e.title,n=e.id;return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"float-none -mb-1 text-xs",children:t}),Object(f.jsxs)("div",{title:t,className:"flex items-center justify-between pb-2",children:[Object(f.jsx)("span",{className:"muted",children:n}),Object(f.jsx)(de.a,{icon:le.n})]})]},n)}))]})},be=function(e){var t=e.role,n=Object(d.c)((function(e){return e.config.devMode}));return Object(f.jsxs)(Q.a,{id:t.id,className:"bg-bg-tertiary rounded shadow w-48 p-2",children:[Object(f.jsx)("div",{style:{color:t.color},children:t.name}),n&&Object(f.jsx)(ue,{ids:[{title:"Role ID",id:t.id}]})]},t.id)},je=function(e){var t=e.id,n=e.tab,c=e.setTab,a=e.children,r=e.className,i=Object(d.c)((function(e){return e.ui.saveChangesOpen}));return Object(f.jsx)(o.b,Object(u.a)(Object(u.a)({},e),{},{to:"#",onClick:function(){if(i)return function(){var e=document.querySelector("#saveChanges");e&&(e.style.backgroundColor="var(--danger)")}();null===c||void 0===c||c(t)},className:j()("flex items-center rounded py-1.5 px-2.5 h-8 mb-0.5",r,{active:n===t}),children:a}))},fe=n(26),me=n(27),he=Object(p.c)({name:"members",initialState:[],reducers:{fetched:function(e,t){var n=t.payload;e.push.apply(e,Object(L.a)(n.filter(B(e))))},added:function(e,t){var n=t.payload;e.push(n.member)},removed:function(e,t){var n=t.payload,c=e.findIndex((function(e){return e.id===n.memberId}));e.splice(c,1)},updated:function(e,t){var n=t.payload,c=e.find((function(e){return e.id===n.memberId}));Object.assign(c,n.partialMember)}}}),pe=he.actions,Oe=he.reducer,ve=function(e,t){return Object(O.a)((function(e){return e.entities.members}),(function(n){return n.find((function(n){return n.guildId===e&&n.userId===t}))}))},ge=function(e){return Object(O.a)((function(e){return{user:e.auth.user,members:e.entities.members}}),(function(t){var n=t.user;return t.members.find((function(t){return t.guildId===e&&t.userId===n.id}))}))},xe=Object(p.c)({name:"roles",initialState:[],reducers:{fetched:function(e,t){var n=t.payload;e.push.apply(e,Object(L.a)(n.filter(B(e))))},created:function(e,t){var n=t.payload;e.push(n.role)},updated:function(e,t){var n=t.payload,c=e.find((function(e){return e.id===n.roleId}));Object.assign(c,n.partialRole)},deleted:function(e,t){var n=t.payload,c=e.findIndex((function(e){return e.id===n.roleId}));e.splice(c,1)}}}),Ne=xe.actions,ye=xe.reducer,Ee=function(e){return Object(O.a)((function(e){return e.entities.roles}),(function(t){return t.filter((function(t){return e.includes(t.id)}))}))},we=function(e,t){return Object(O.a)((function(e){return{members:e.entities.members,roles:e.entities.roles}}),(function(n){var c,a=n.members,r=n.roles,i=a.find((function(n){return n.guildId===e&&n.userId===t}));return i?r.filter((function(e){return i.roleIds.includes(e.id)})).reduce((c="position",function(e,t){return e<t[c]?e:t})):null}))};!function(e){var t,n,a;!function(e){e[e.VIEW_CHANNELS=1024]="VIEW_CHANNELS",e[e.MANAGE_INVITES=256]="MANAGE_INVITES",e[e.CREATE_INVITE=128]="CREATE_INVITE",e[e.KICK_MEMBERS=64]="KICK_MEMBERS",e[e.MANAGE_CHANNELS=16]="MANAGE_CHANNELS",e[e.MANAGE_ROLES=8]="MANAGE_ROLES",e[e.MANAGE_GUILD=4]="MANAGE_GUILD",e[e.ADMINISTRATOR=1]="ADMINISTRATOR"}(t||(t={})),e.General=t,function(e){e[e.READ_MESSAGES=8192]="READ_MESSAGES",e[e.MANAGE_MESSAGES=4096]="MANAGE_MESSAGES",e[e.SEND_MESSAGES=2048]="SEND_MESSAGES"}(n||(n={})),e.Text=n,function(e){e[e.SPEAK=65536]="SPEAK",e[e.CONNECT=32768]="CONNECT"}(a||(a={})),e.Voice=a;e.All=Object(u.a)(Object(u.a)(Object(u.a)({},t),n),a),e.defaultPermissions=c.General.VIEW_CHANNELS|c.General.CREATE_INVITE|c.Text.SEND_MESSAGES|c.Text.READ_MESSAGES}(c||(c={}));var Ce,Ie,Se=function(){function e(t){Object(fe.a)(this,e),this.state=t,this.description={general:{ADMINISTRATOR:"Gives all permissions. This is a dangerous permission.",CREATE_INVITE:"Ability to create invites for users to join this guild.",KICK_MEMBERS:"Ability to kick members from this guild.",MANAGE_CHANNELS:"Ability to create, edit, or delete channels.",MANAGE_GUILD:"Ability to edit general guild settings.",MANAGE_ROLES:"Ability to create, update, and delete guild roles.",VIEW_CHANNELS:"Ability to view channels.",MANAGE_INVITES:"Ability to delete invites."},text:{MANAGE_MESSAGES:"Ability to manage message other member's messages.",READ_MESSAGES:"Ability to read messages,",SEND_MESSAGES:"Ability to send messages in text channels."}}}return Object(me.a)(e,[{key:"canMember",value:function(e,t,n){return t.ownerId===n.userId||this.hasPerm(this.getTotalPerms(n,t.id),c.All[e])}},{key:"canInChannel",value:function(e,t,n){var a,r,i=this.getChannel(n),s=this.getSelfMember(t),o=null!==(a=null===(r=i.overrides)||void 0===r?void 0:r.filter((function(e){return s.roleIds.includes(e.roleId)})))&&void 0!==a?a:[],l=o.reduce((function(e,t){return e|t.allow}),0),d=o.reduce((function(e,t){return e|t.deny}),0),u=c.Text[e],b=this.can(e,t),j=this.hasPerm(l,u),f=this.hasPerm(d,u);return b&&!f||j}},{key:"can",value:function(e,t){var n=this.getGuild(t),a=this.getSelfMember(t);return n.ownerId===a.userId||this.hasPerm(this.getTotalPerms(a,t),c.All[e])}},{key:"getTotalPerms",value:function(e,t){return oe(t)(this.state).filter((function(t){return null===e||void 0===e?void 0:e.roleIds.includes(t.id)})).reduce((function(e,t){return t.permissions|e}),0)}},{key:"hasPerm",value:function(e,t){return Boolean(e&t)||Boolean(e&c.General.ADMINISTRATOR)}},{key:"canManage",value:function(e,t,n){var c=ve(t,n)(this.state);return!!c&&(this.can(e,t)&&(this.state.auth.user.id===c.userId||this.memberIsHigher(t,c.roleIds)))}},{key:"canPunish",value:function(e,t,n){return this.state.auth.user.id!==n&&this.can(e,t)&&this.canManage(e,t,n)}},{key:"memberIsHigher",value:function(e,t){var n=this.getGuild(e),c=this.getSelfMember(e),a=Ee(c.roleIds)(this.state),r=Ee(t)(this.state),i=function(e){return function(t,n){return t[e]>n[e]?t:n}},s=a.reduce(i("position")),o=r.reduce(i("position")),l=c.userId===n.ownerId,d=s.position>o.position;return l||d}},{key:"getHighestRole",value:function(e){var t;return e.reduce((t="position",function(e,n){return e[t]>n[t]?e:n}))}},{key:"getChannel",value:function(e){var t=$(e)(this.state);if(!t)throw new TypeError("Channel not found");return t}},{key:"getGuild",value:function(e){var t=ie(e)(this.state);if(!t)throw new TypeError("Guild not found");return t}},{key:"getSelfMember",value:function(e){var t=ge(e)(this.state);if(!t)throw new TypeError("Member not found");return t}}]),e}(),Ae=function(){var e=Object(d.d)().getState();return new Se(e)},_e=(n(196),function(e){var t=Object(a.useState)(e.defaultValue),n=Object(I.a)(t,2),c=n[0],r=n[1];return Object(f.jsx)("div",{className:j()("flex",e.className),"data-v-553b5ded":"",children:Object(f.jsx)("label",{htmlFor:e.id,className:"flex items-center cursor-pointer","data-v-553b5ded":"",children:Object(f.jsxs)("div",{className:"relative","data-v-553b5ded":"",children:[Object(f.jsx)("input",{id:e.id,onChange:e.onChange,onClick:function(e){var t=e.currentTarget;return r({on:"off","n/a":"on",off:"n/a"}[t.value])},value:c,type:"checkbox",className:"sr-only","data-v-553b5ded":""}),Object(f.jsx)("div",{className:"block bg-gray-600 w-14 h-8 rounded-full","data-v-553b5ded":""}),Object(f.jsx)("div",{className:"dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition","data-v-553b5ded":""})]})})})}),Te=function(e){var t=e.overrideState,n=e.permName,a=Ae().description,r=Object(d.c)((function(e){return e.ui.activeChannel})).type.toLowerCase(),i=Object(d.b)(),s=Object(I.a)(t,2),o=s[0],l=s[1];return Object(f.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[Object(f.jsx)("span",{children:a[r][n]}),Object(f.jsx)(_e,{id:n,onChange:function(e){return t=n,"off"===(a=e.currentTarget.value)?(o.allow&=~c.All[t],o.deny&=~c.All[t]):"n/a"===a?(o.allow|=c.All[t],o.deny&=~c.All[t]):"on"===a&&(o.allow&=~c.All[t],o.deny|=c.All[t]),l(o),void i(y(!0));var t,a},className:"float-right",defaultValue:function(){return e=n,Boolean(o.allow&c.All[e])?"on":function(e){return Boolean(o.deny&c.All[e])}(n)?"off":"n/a";var e}()})]})},ke=function(e){var t=e.overrideState,n=Object(d.b)(),a=Ae().description,r=Object(d.c)((function(e){return e.ui.activeChannel})),i=Object(I.a)(t,2),s=i[0],o=i[1],l=r.type.toLowerCase();if("VOICE"===r.type)return null;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"mb-5",children:[Object(f.jsx)(S,{className:"muted pb-1.5 mt-5",title:l}),Object.keys(a[l]).map((function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("strong",{title:c.All[e],className:"secondary",children:e}),Object(f.jsx)(Te,{overrideState:t,permName:e})]},e)}))]}),Object(f.jsx)(q,{onClick:function(){o(Object(u.a)(Object(u.a)({},s),{},{allow:0,deny:0})),n(y(!0))},className:"bg-white text-black float-left",type:"button",children:"Clear"})]})},Me=n(74),Re=function(e){var t={singleValue:function(){return{display:"none"}},control:function(){return{width:"100%",backgroundColor:"var(--bg-secondary)",borderRadius:"5px"}},option:function(e,t){var n=t.data;return Object(u.a)(Object(u.a)({},e),{},{color:n.color,backgroundColor:"var(--bg-secondary)",cursor:"pointer"})},input:function(e){return Object(u.a)(Object(u.a)({},e),{},{color:"var(--font)"})},menu:function(e){return Object(u.a)(Object(u.a)({},e),{},{backgroundColor:"var(--bg-secondary)"})},multiValue:function(e){return Object(u.a)(Object(u.a)({},e),{},{color:"var(--font)",backgroundColor:"var(--bg-tertiary)"})},indicatorSeparator:function(){return{display:"none"}},indicatorsContainer:function(e){return Object(u.a)(Object(u.a)({},e),{},{float:"right"})},multiValueLabel:function(e,t){var n=t.data;return Object(u.a)(Object(u.a)({},e),{},{color:n.color,backgroundColor:"var(--bg-tertiary)"})}};return Object(f.jsx)(Me.a,{placeholder:"Add role...",options:e.unadded.map(e.mapOptions),styles:t,onChange:e.onChange,noOptionsMessage:function(){return"All roles have been added"}})},Le=n(112),De=n.n(Le),Ge=function(){var e,t,n,c=Object(l.i)().guildId,r=Object(d.c)((function(e){return e.ui.activeChannel})),i=Object(d.c)(oe(c)),s=Object(d.b)(),o=null!==(e=De()(null===(t=r.overrides)||void 0===t?void 0:t[0]))&&void 0!==e?e:{allow:0,deny:0,roleId:i[0].id},b=Object(a.useState)(o),j=Object(I.a)(b,2),m=j[0],h=j[1],p=Object(a.useState)(m.roleId),O=Object(I.a)(p,2),v=O[0],g=O[1],x=i.filter((function(e){var t;return!(null===(t=r.overrides)||void 0===t?void 0:t.some((function(t){return t.roleId===e.id})))})),N=i.filter((function(e){var t;return null===(t=r.overrides)||void 0===t?void 0:t.some((function(t){return t.roleId===e.id}))})),E=function(){h(Object(u.a)(Object(u.a)({},m),{},{allow:0,deny:0})),s(y(!0))},w=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ke,{overrideState:[m,h]}),Object(f.jsx)(q,{onClick:E,className:"bg-danger float-right",type:"button",children:"Delete"}),Object(f.jsx)(J,{onSave:function(e){var t,n,c=(null!==(t=De()(r.overrides))&&void 0!==t?t:[m]).filter((function(e){return e.allow+e.deny>0})).filter((n="roleId",function(e,t,c){return c.findIndex((function(t){return t[n]===e[n]}))===t})),a=c.findIndex((function(e){return e.roleId===v}));a<0?c.push(m):c[a]=m,s(W(r.id,{overrides:c}))},onReset:function(){return h(o)},obj:m})]})},C=i.find((function(e){return e.id===v})),A=null===(n=r.overrides)||void 0===n?void 0:n.some((function(e){return e.roleId===v}));return m&&C&&!A&&N.push(C),Object(f.jsxs)("div",{className:"grid grid-cols-12 flex flex-col pt-14 px-10 pb-20 h-full mt-1",children:[Object(f.jsx)("div",{className:"lg:col-span-3 col-span-12",children:Object(f.jsxs)("nav",{className:"pr-10",children:[N.map((function(e){return Object(f.jsxs)(Q.b,{id:e.id,children:[Object(f.jsx)(je,{style:{color:e.color},tab:v,setTab:g,id:e.id,children:e.name}),Object(f.jsx)(be,{role:e})]},e.id)})),Object(f.jsx)(S,{className:"m-1 mt-3",title:"Add Role"}),Object(f.jsx)(Re,{mapOptions:function(e){return{label:e.name,value:e.id,color:e.color}},onChange:function(e){var t=e.value;h({allow:0,deny:0,roleId:t}),g(t)},unadded:x})]})}),Object(f.jsx)("div",{className:"lg:col-span-9 col-span-12",children:Object(f.jsx)(w,{})})]})},Ue=function(){var e=Object(d.b)(),t=Object(A.b)().closeSnackbar;return Object(f.jsxs)("div",{id:"escButton",className:"rounded-full border-2 border-gray-500 cursor-pointer border-white rounded-full px-2 w-16 mt-14",onClick:function(){e(C),t("saveChanges")},children:[Object(f.jsx)(de.a,{icon:le.v,color:"var(--muted)"}),Object(f.jsx)("span",{className:"pl-1.5 muted",children:"ESC"})]})},Pe=function(e){var t=e.className,n=e.tabs,c=e.setTab,a=e.tab,r=e.predicate,i=e.linkStyle,s=e.activeLinkStyle;return Object(f.jsx)("div",{className:t,children:n.map((function(e){return(!r||(null===r||void 0===r?void 0:r(e)))&&Object(f.jsx)(je,{style:Object(u.a)(Object(u.a)({},i),e.id===a?s:{}),tab:a,setTab:c,id:e.id,children:e.name},e.id)}))})},Be=function(){var e=Object(d.c)((function(e){return e.ui.activeChannel})),t=Object(d.c)((function(e){return e.ui.activeGuild})),n=Object(a.useState)("overview"),c=Object(I.a)(n,2),r=c[0],i=c[1],s=Ae();return e?Object(f.jsx)(M,{typeName:"ChannelSettings",size:"full",children:Object(f.jsxs)("div",{className:"grid grid-cols-12 h-full",children:[Object(f.jsx)("div",{className:"col-span-4 bg-bg-secondary",children:Object(f.jsxs)("nav",{className:"float-right flex-grow py-14 w-48 my-1 mr-4",children:[Object(f.jsx)(S,{className:"muted px-2.5 pb-1.5",title:"#".concat(e.name)}),Object(f.jsx)(Pe,{tabs:[{perm:"MANAGE_CHANNELS",name:"Overview",id:"overview"},{perm:"MANAGE_CHANNELS",name:"Perms",id:"perms"}],tab:r,setTab:i,predicate:function(e){return s.can(e.perm,t.id)}})]})}),Object(f.jsxs)("div",{className:"col-span-6 h-full",children:["overview"===r&&Object(f.jsx)(Z,{}),"perms"===r&&Object(f.jsx)(Ge,{})]}),Object(f.jsx)("div",{className:"col-span-2 h-full",children:Object(f.jsx)(Ue,{})})]})}):null},Ve=function(){var e=Object(d.b)(),t=Object(R.a)(),n=t.register,c=t.handleSubmit,a=t.setValue,r=Object(d.c)((function(e){return e.ui.activeGuild})),i=["TEXT","VOICE"];return Object(f.jsx)(M,{typeName:"CreateChannel",size:"lg",children:Object(f.jsxs)("form",{className:"flex flex-col h-full",onSubmit:c((function(t){e(function(e,t){var n=t.name,c=t.type;return function(t){t(U.wsCallBegan({event:"CHANNEL_CREATE",data:{guildId:e,name:n,type:c}}))}}(r.id,t)),a("name","")})),children:[Object(f.jsx)("header",{className:"text-center mb-5 p-5",children:Object(f.jsx)("h1",{className:"text-2xl font-bold inline",children:"Create Channel"})}),Object(f.jsx)("div",{className:"flex-grow p-5",children:Object(f.jsx)(Y,{label:"Channel Name",name:"name",register:n})}),Object(f.jsxs)("div",{className:"flex-grow pt-0 p-5",children:[Object(f.jsx)("label",{htmlFor:"channelType",className:"uppercase text-xs font-semibold",children:"Channel Type"}),Object(f.jsx)("select",Object(u.a)(Object(u.a)({id:"channelType",className:"block bg-bg-secondary rounded focus:outline-none w-full h-10 p-2 mt-2",defaultValue:i[0]},n("type")),{},{children:i.map((function(e){return Object(f.jsx)("option",{value:e,children:e},e)}))}))]}),Object(f.jsx)("footer",{className:"bg-bg-secondary",children:Object(f.jsx)(q,{className:"bg-primary font float-right m-4",children:"Create"})})]})})},He=function(){var e=Object(d.b)(),t=Object(R.a)(),n=t.register,c=t.handleSubmit,a=Object(R.a)(),r=a.register,i=a.handleSubmit;return Object(f.jsxs)(M,{className:"p-5",typeName:"CreateGuild",size:"lg",children:[Object(f.jsxs)("header",{className:"text-center mb-5",children:[Object(f.jsx)("h1",{className:"text-3xl font-bold inline",children:"Create Guild"}),Object(f.jsxs)("p",{className:"lead",children:["Hang out with your friends. ",Object(f.jsx)("br",{}),"Create an epic guild, or join with friends."]})]}),Object(f.jsx)("h3",{className:"uppercase font-bold mt-10",children:"Join One"}),Object(f.jsxs)("form",{onSubmit:c((function(t){return e((n=t.inviteCode,function(e){e(U.wsCallBegan({event:"GUILD_MEMBER_ADD",data:{inviteCode:n}}))}));var n})),children:[Object(f.jsx)(Y,{label:"Invite Code",name:"inviteCode",register:n}),Object(f.jsx)(q,{className:"bg-tertiary w-full h-11 mt-8",children:"Join"})]}),Object(f.jsx)("h3",{className:"uppercase font-bold mt-10",children:"Make Your Own"}),Object(f.jsxs)("form",{onSubmit:i((function(t){return e((n=t.name,function(e){e(U.wsCallBegan({event:"GUILD_CREATE",data:{name:n}}))}));var n})),children:[Object(f.jsx)(Y,{label:"Guild Name",name:"name",register:r}),Object(f.jsx)(q,{className:"bg-primary font w-full h-11 mt-8",children:"Create"})]})]})},Fe=Object(p.c)({name:"invites",initialState:{fetched:{},list:[]},reducers:{fetched:function(e,t){var n=e.list,c=e.fetched,a=t.payload,r=a[0].guildId;n.push.apply(n,Object(L.a)(a.filter(B(n)))),c.push(r)},created:function(e,t){var n=e.list,c=t.payload;n.push(c.invite)},deleted:function(e,t){var n=e.list,c=t.payload,a=n.findIndex((function(e){return e.id===c.inviteCode}));n.splice(a,1)}}}),ze=Fe.actions,We=Fe.reducer,$e=function(){var e=Object(d.b)(),t=Object(R.a)(),n=t.register,c=t.setValue,r=Object(d.c)((function(e){return e.ui})),i=r.activeGuild,s=r.activeInvite,o=r.openModal;c("inviteCode",null===s||void 0===s?void 0:s.id);var l="CreateInvite"===o;Object(a.useEffect)((function(){var t;!s&&i&&l&&e((t=i.id,function(e){e(U.wsCallBegan({event:"INVITE_CREATE",data:{guildId:t}}))}))}),[l]);return s?Object(f.jsxs)(M,{typeName:"CreateInvite",className:"p-5",children:[Object(f.jsx)("header",{className:"mb-3",children:Object(f.jsxs)("h1",{className:"font-bold inline uppercase",children:["Invite Friends to ",null===i||void 0===i?void 0:i.name]})}),Object(f.jsx)("h4",{className:"text-xs uppercase font-bold muted mb-3",children:"Or Send A Guild Invite To A Friend"}),Object(f.jsxs)("div",{className:"relative",children:[Object(f.jsx)(q,{onClick:function(){return window.navigator.clipboard.writeText(s.id)},className:"absolute -right-3 top-5 m-4",children:"Copy"}),Object(f.jsx)(Y,{label:"Invite Code",name:"inviteCode",register:n,autoFocus:!0})]})]}):null},Ke=function(e){var t,n=e.channels.filter((function(e){return"TEXT"===e.type})).map((function(e){return{label:"#".concat(e.name),value:e.id}})),c=[{label:"None",value:"",color:"var(--muted)"}].concat(n),a={singleValue:function(){return{color:"var(--font)"}},control:function(){return{width:"100%",backgroundColor:"var(--bg-secondary)",border:"1px solid var(--bg-tertiary-alt)",borderRadius:"5px"}},option:function(e,t){var n=t.data;return Object(u.a)(Object(u.a)({},e),{},{color:n.color,backgroundColor:"var(--bg-secondary)",cursor:"pointer"})},input:function(e){return Object(u.a)(Object(u.a)({},e),{},{caretColor:"transparent",height:"32px"})},menu:function(e){return Object(u.a)(Object(u.a)({},e),{},{backgroundColor:"var(--bg-secondary)"})},indicatorSeparator:function(){return{display:"none"}},indicatorsContainer:function(e){return Object(u.a)(Object(u.a)({},e),{},{float:"right",marginTop:"-38px"})}},r=e.name+"Input";return Object(f.jsxs)("div",{className:e.className,children:[e.label&&Object(f.jsx)("label",{htmlFor:r,className:"uppercase text-xs font-semibold",children:e.label}),Object(f.jsx)(Me.a,{className:"pt-2",placeholder:"Select channel...",id:r,styles:a,options:c,register:null===(t=e.register)||void 0===t?void 0:t.call(e,e.name,e.options)})]})},Ye=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.ui.activeGuild})),n=Object(d.c)(se(t.id)),c=Object(R.a)(),a=c.register,r=c.handleSubmit,i=c.setValue;return Object(f.jsxs)("form",{id:"formt",onChange:function(){return e(y(!0))},className:"flex flex-col pt-14 px-10 pb-20 h-full mt-1",children:[Object(f.jsx)("header",{children:Object(f.jsx)("h1",{className:"text-xl font-bold inline",children:"Guild Overview"})}),Object(f.jsxs)("section",{className:"w-1/2",children:[Object(f.jsx)(Y,{label:"Name",name:"name",register:a,options:{value:t.name},className:"pt-5"}),Object(f.jsx)(Y,{type:"file",accept:"image/*",label:"Icon Image",name:"iconURL",className:"pt-5",options:{value:t.iconURL},onChange:function(n){var c,a,r=null===(c=n.currentTarget)||void 0===c||null===(a=c.files)||void 0===a?void 0:a[0];r&&e(function(e,t){return function(n){var c=function(){var t=Object(te.a)(ee.a.mark((function t(c){var a;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.url,t.abrupt("return",n(re(e,{iconURL:a})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();n(P(t,c))}}(t.id,r))}}),Object(f.jsx)(Ke,{className:"pt-5",label:"System Channel",name:"systemChannelId",channels:n,register:a,options:{setValueAs:t.systemChannelId}})]}),Object(f.jsx)(S,{className:"py-2 mt-5",title:"Advanced Settings"}),Object(f.jsx)("section",{children:Object(f.jsx)(q,{type:"button",onClick:function(){var n;window.confirm("Are you sure you want to delete this guild?")&&e((n=t.id,function(e){e(U.wsCallBegan({event:"GUILD_DELETE",data:{guildId:n}}))}))},className:"bg-danger",children:"Delete"})}),Object(f.jsx)(J,{setValue:i,onSave:function(n){r((function(n){return e(re(t.id,n))}))(n)},obj:t})]})},qe=(n(210),function(e){return Object(f.jsx)("div",{className:j()("flex",e.className),"data-v-109b9207":"",children:Object(f.jsx)("label",{htmlFor:e.id,className:"flex items-center cursor-pointer","data-v-109b9207":"",children:Object(f.jsxs)("div",{className:"relative","data-v-109b9207":"",children:[Object(f.jsx)("input",Object(u.a)(Object(u.a)({},e),{},{id:e.id,type:"checkbox",className:"sr-only",checked:e.checked,"data-v-109b9207":""})),Object(f.jsx)("div",{className:"block bg-gray-600 w-14 h-8 rounded-full","data-v-109b9207":""}),Object(f.jsx)("div",{className:"dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition","data-v-109b9207":""})]})})})}),Je=function(e){var t=e.perms,n=e.setPerms,a=e.setRoleValue,r=Object(d.b)(),i=Ae().description,s=function(e){n(e),a("permissions",e),r(y(!0))},o=function(e){return Boolean(t&c.All[e])},l=function(e){var n=e.category,a=e.permName;return Object(f.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[Object(f.jsx)("span",{children:i[n][a]}),Object(f.jsx)(qe,{id:a,checked:o(a),onChange:function(){return e=a,n=!o(a),s(n?t|c.All[e]:t&~c.All[e]);var e,n},className:"float-right"})]})};return Object(f.jsxs)(f.Fragment,{children:[Object.keys(i).map((function(e){return Object(f.jsxs)("div",{className:"mb-5",children:[Object(f.jsx)(S,{className:"muted pb-1.5 mt-5",title:e}),Object.keys(i[e]).map((function(t){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("strong",{title:c.All[t],className:"secondary",children:t}),Object(f.jsx)(l,{category:e,permName:t},t)]})}))]},e)})),Object(f.jsx)(q,{onClick:function(){return s(0)},className:"bg-white text-black",type:"button",children:"Clear"}),Object(f.jsx)(q,{onClick:function(){return s(c.defaultPermissions)},className:"bg-secondary text-black ml-2",type:"button",children:"Default"})]})},Ze=function(){var e,t=Object(d.b)(),n=Object(R.a)(),c=n.handleSubmit,r=n.register,i=n.setValue,s=n.getValues,o=Object(l.i)().guildId,b=Object(d.c)(oe(o)),h=Object(a.useState)(b[0].id),p=Object(I.a)(h,2),v=p[0],g=p[1],x=Object(d.c)((e=v,Object(O.a)((function(e){return e.entities.roles}),(function(t){return t.find((function(t){return t.id===e}))})))),N=Object(a.useState)(0),E=Object(I.a)(N,2),w=E[0],C=E[1],A=Object(a.useState)(!1),_=Object(I.a)(A,2),T=_[0],k=_[1],M=Ae();Object(a.useEffect)((function(){if(!x)return g(b[0].id);for(var e=0,t=["name","color","permissions","hoisted"];e<t.length;e++){var n=t[e];i(n,x[n])}C(x.permissions),k(x.hoisted)}),[x]);var L=function(){return Object(f.jsxs)("form",{className:"mb-10",onChange:function(){return t(y(!0))},children:[Object(f.jsxs)("div",{className:"flex gap-4",children:[Object(f.jsx)(Y,{label:"Name",name:"name",register:r}),Object(f.jsx)(Y,{label:"Color",name:"color",type:"color",register:r})]}),Object(f.jsxs)("div",{className:"mt-5",children:[Object(f.jsx)(S,{title:"Options",className:" pb-1.5 mt-5"}),Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{children:"Separate role on member list"}),Object(f.jsx)(qe,Object(u.a)(Object(u.a)({id:"hoisted",checked:T},r("hoisted")),{},{onChange:function(){k(!T),i("hoisted",!T)},className:"float-right"}))]})]}),Object(f.jsx)(Je,{perms:w,setPerms:C,setRoleValue:i}),Object(f.jsx)(q,{onClick:function(){return t(function(e,t){return function(n){n(U.wsCallBegan({event:"GUILD_ROLE_DELETE",data:{roleId:t,guildId:e}}))}}(o,x.id))},className:"bg-danger float-right",type:"button",children:"Delete"})]})},D=function(e){return M.memberIsHigher(o,[e.id])};return Object(f.jsxs)("div",{className:"grid grid-cols-12 flex flex-col pt-14 px-10 pb-20 h-full mt-1",children:[Object(f.jsx)("div",{className:"lg:col-span-3 col-span-12",children:Object(f.jsxs)("nav",{className:"pr-10",children:[b.sort((function(e,t){return e.position>t.position?-1:1})).map((function(e){return Object(f.jsxs)(Q.b,{id:e.id,children:[Object(f.jsx)(je,{className:j()({"cursor-not-allowed opacity-25":!D(e)}),style:{color:e.color},tab:v,setTab:function(){return D(e)&&g.apply(void 0,arguments)},id:e.id,children:e.name},e.id),Object(f.jsx)(be,{role:e})]},e.id)})),Object(f.jsx)(m,{onClick:function(){return t(function(e){return function(t){t(U.wsCallBegan({event:"GUILD_ROLE_CREATE",data:{guildId:e}}))}}(o))},style:{color:"var(--success)"},className:"ring-green-500 m-2",children:"Create"})]})}),Object(f.jsx)("div",{className:"lg:col-span-9 col-span-12",children:x&&Object(f.jsx)(L,{})}),Object(f.jsx)(J,{setValue:function(){i.apply(void 0,arguments),C(x.permissions),k(x.hoisted)},onSave:function(e){c((function(e){return t(function(e,t,n){return function(c){c(U.wsCallBegan({event:"GUILD_ROLE_UPDATE",data:Object(u.a)({roleId:t,guildId:e},n)}))}}(o,x.id,e))}))(e)},obj:s()})]})},Qe=function(){var e=Object(d.b)(),t=Object(l.i)().guildId,n=Object(d.c)(function(e){return Object(O.a)((function(e){return e.entities.invites.list}),(function(t){return t.filter((function(t){return t.guildId===e}))}))}(t)),c=function(){return Object(f.jsxs)("div",{className:"mt-2",children:[n.map((function(t){return Object(f.jsxs)("div",{className:"w-full mb-3",children:[Object(f.jsx)("strong",{children:t.id}),Object(f.jsx)("span",{className:"float-right",children:Object(f.jsx)("button",{type:"button",className:"danger rounded-full border-2 border-red-500 px-2",onClick:function(){return e((n=t.id,function(e){e(U.wsCallBegan({event:"INVITE_DELETE",data:{inviteCode:n}}))}));var n},children:"x"})})]})})),!n.length&&Object(f.jsx)("span",{children:"No invites created."})]})};return Object(f.jsxs)("form",{onChange:function(){return e(y(!0))},className:"flex flex-col pt-14 px-10 pb-20 h-full mt-1",children:[Object(f.jsx)("header",{children:Object(f.jsx)("h1",{className:"text-xl font-bold inline",children:"Invites"})}),Object(f.jsx)(c,{})]})},Xe=function(){var e=Object(d.c)((function(e){return e.ui.activeGuild})),t=Object(a.useState)("overview"),n=Object(I.a)(t,2),c=n[0],r=n[1],i=Ae();return e?Object(f.jsx)(M,{typeName:"GuildSettings",size:"full",children:Object(f.jsxs)("div",{className:"grid grid-cols-12 h-full",children:[Object(f.jsx)("div",{className:"col-span-4 bg-bg-secondary",children:Object(f.jsxs)("nav",{className:"float-right flex-grow py-14 w-48 my-1 mr-4",children:[Object(f.jsx)(S,{className:"muted px-2.5 pb-1.5",title:e.name}),Object(f.jsx)(Pe,{tabs:[{perm:"MANAGE_GUILD",name:"Overview",id:"overview"},{perm:"MANAGE_ROLES",name:"Roles",id:"roles"},{perm:"MANAGE_INVITES",name:"Invites",id:"invites"}],tab:c,setTab:r,predicate:function(t){return i.can(t.perm,e.id)}})]})}),Object(f.jsxs)("div",{className:"col-span-6 h-full",children:["overview"===c&&Object(f.jsx)(Ye,{}),"roles"===c&&Object(f.jsx)(Ze,{}),"invites"===c&&Object(f.jsx)(Qe,{})]}),Object(f.jsx)("div",{className:"col-span-2 h-full",children:Object(f.jsx)(Ue,{})})]})}):null},et=function(){var e=Object(d.c)((function(e){return e.ui.activeResource})),t="https://api.accord.app/assets"+e;return e?Object(f.jsxs)(M,{size:"lg",typeName:"ImagePreview",className:"p-5 bg-transparent ",children:[Object(f.jsx)("img",{src:t,onError:function(e){e.currentTarget.onerror=null,e.currentTarget.src="".concat("https://api.accord.app/assets","/images/image-not-found.png")}}),Object(f.jsx)("a",{style:{color:"var(--normal)"},className:"pt-2",href:t,target:"_blank",children:"View Original"})]}):null},tt=n(61),nt=n.n(tt),ct=function(e){return Object(f.jsx)("img",Object(u.a)({onError:function(e){return e.currentTarget.src="".concat("https://api.accord.app/assets","/avatars/unknown.png")}},e))},at=(n(211),function(e){var t=e.to,n=e.imageURL,c=e.name,a=e.classes,r=void 0===a?"font":a,i=Object(l.h)();n&&(n="".concat("https://api.accord.app/assets").concat(n));var s=function(e){return e.split(" ").map((function(e){return e[0]})).join("").slice(0,3)},o=function(){return n?Object(f.jsx)(ct,{className:"h-12 w-12",src:n,alt:c,"data-v-353f9cef":""}):Object(f.jsx)("span",{className:"select-none flex items-center justify-center h-12 w-12","data-v-353f9cef":"",children:s(c)})},d=t&&i.pathname.startsWith(t),u=d?"rounded-xl bg-primary":"rounded-full bg-bg-primary";return Object(f.jsxs)("div",{className:j()("wrapper sidebar-icon",{active:d}),title:c,"data-v-353f9cef":"",children:[Object(f.jsx)("div",{className:"selected rounded bg-white absolute -left-1 h-0 w-2","data-v-353f9cef":""}),Object(f.jsx)("div",{className:j()("cursor-pointer guild-icon flex justify-center mb-2",u,r),"data-v-353f9cef":"",children:Object(f.jsx)(o,{"data-v-353f9cef":""})})]})}),rt=function(e){var t,n=e.guild,c=e.user,a=e.size,r=void 0===a?"md":a,i=Object(d.c)(we(null===n||void 0===n?void 0:n.id,c.id)),s=(null===n||void 0===n?void 0:n.ownerId)===c.id,o=c.discriminator.toString().padStart(4,"0"),l="ONLINE"===c.status,u=function(){var e={color:l?"bg-success":"bg-gray-500",size:{lg:"h-6 w-6",md:"h-3.5 w-3.5",sm:"h-2 w-2"}[r]};return Object(f.jsx)("span",{className:"rounded-full absolute flex -right-0.5 -bottom-0.5",children:Object(f.jsx)("span",{style:{border:"2px solid var(--bg-secondary)"},className:j()("relative inline-flex rounded-full px-1",e.size,e.color,{hidden:"sm"===r})})})},b={lg:"text-lg",md:"text-sm",sm:"text-sm"}[r];return Object(f.jsxs)("div",{className:j()("flex items-center px-2","cursor-pointer",{"opacity-50":!l}),children:[Object(f.jsxs)("div",{className:"relative avatar mr-2",children:[Object(f.jsx)(u,{}),Object(f.jsx)(ct,{className:{sm:"select-none rounded-full w-6 h-6",md:"select-none rounded-full w-8 h-8",lg:"select-none rounded-full w-20 h-20"}[r],src:"".concat("https://api.accord.app/assets").concat(c.avatarURL)})]}),Object(f.jsxs)("div",{className:"tag leading-4",children:[Object(f.jsxs)("h4",{className:j()({"font-bold":"sm"!==r},b),children:[Object(f.jsx)("span",{style:{color:null!==(t=null===i||void 0===i?void 0:i.color)&&void 0!==t?t:"var(--font)"},className:j()({"font-light text-base":n}),children:c.username}),Object(f.jsx)("span",{className:"text-yellow-400 ml-1",children:s&&"sm"!==r&&Object(f.jsx)(de.a,{icon:le.h})})]}),!n&&"sm"!==r&&Object(f.jsxs)("div",{className:j()("discriminator",b),children:["#",o]})]})]})},it=function(){var e=Object(d.c)((function(e){return e.auth.user})),t=Object(d.c)((function(e){return e.ui.activeUser})),n=Object(a.useState)("info"),c=Object(I.a)(n,2),r=c[0],i=c[1],s={BUG_1:{color:"bronze",icon:le.d,title:"Has destroyed a few bugs."},BUG_2:{color:"silver",icon:le.d,title:"Has destroyed many bugs."},BUG_3:{color:"gold",icon:le.d,title:"Are there any bugs left?"},PREMIUM:{color:"var(--heading)",icon:le.s,title:"This user has transcended the realm of epicness."},OG:{color:"orange",icon:le.u,title:"Was here since the very beginning."},STAFF:{color:"var(--primary)",icon:le.l,title:"Staff."},VIEWER:{color:"var(--tertiary)",icon:le.A,title:"This user was noticed in live chat."}},o=function(){return t?Object(f.jsx)("div",{className:"float-right -mt-16",children:t.badges.map((function(e,t){var n=s[e],c=n.color,a=n.icon,r=n.title,i=n.styles;return Object(f.jsx)(de.a,{title:r,className:j()("pr-3"),style:Object(u.a)(Object(u.a)({},i),{},{color:c}),size:"2x",icon:a},t)}))}):null},l=function(){return t?Object(f.jsx)("div",{className:"grid grid-cols-2",children:Object(f.jsxs)("div",{className:"col-span-1",children:[Object(f.jsx)("strong",{children:"Created: "}),Object(f.jsx)("span",{title:t.createdAt.toString(),children:nt()(t.createdAt).format("DD/MM/YYYY")})]})}):null},b=function(){var n=Object(d.d)();if(!t)return null;var c=e.guildIds.filter((function(e){return t.guildIds.includes(e)})).map((function(e){return ie(e)(n.getState())}));return Object(f.jsxs)("div",{children:[Object(f.jsx)(S,{title:"".concat(c.length," Mutual Guilds"),className:"mb-2"}),Object(f.jsx)("div",{className:"mx-2",children:c.map((function(e){return e?Object(f.jsx)("div",{className:"w-12 -ml-2 float-left scale-200",children:Object(f.jsx)(at,{imageURL:e.iconURL,name:e.name})},e.id):null}))})]})};return t?Object(f.jsxs)(M,{typeName:"UserProfile",size:"md",children:[Object(f.jsxs)("header",{className:"bg-bg-tertiary",children:[Object(f.jsxs)("div",{className:"p-5",children:[Object(f.jsx)(rt,{size:"lg",user:t}),Object(f.jsx)(o,{})]}),Object(f.jsx)("hr",{className:"border-bg-primary"}),Object(f.jsx)(Pe,{className:"normal p-2",tab:r,setTab:i,tabs:[{name:"Info",id:"info"},{name:"Mutual Guilds",id:"mutualGuilds"}],linkStyle:{color:"var(--normal)",fontWeight:"bold",padding:"0 0 30px 0",margin:"5px 10px",borderRadius:0,display:"inline-block"},activeLinkStyle:{borderBottom:"3px solid var(--normal)"}})]}),Object(f.jsxs)("main",{className:"p-4",children:["info"===r&&Object(f.jsx)(l,{}),"mutualGuilds"===r&&Object(f.jsx)(b,{})]})]}):null},st=function(e){return JSON.parse(localStorage.getItem("config.".concat(e)))},ot=function(e,t){return JSON.parse(localStorage.setItem("config.".concat(e),t))},lt=Object(p.c)({name:"config",initialState:{devMode:null!==(Ce=st("devMode"))&&void 0!==Ce&&Ce,memberListToggled:null===(Ie=st("memberListToggled"))||void 0===Ie||Ie},reducers:{toggleDevMode:function(e){var t=!e.devMode;e.devMode=t},toggleMemberList:function(e){var t=!e.memberListToggled;e.memberListToggled=t}}}),dt=lt.actions,ut=lt.reducer,bt=Object(p.c)({name:"meta",initialState:{fetchedEntities:!1,hasListenedToWS:!1,userCount:NaN},reducers:{fetchedEntities:function(e){e.fetchedEntities=!0},listenedToWS:function(e){e.hasListenedToWS=!0},ping:function(e,t){var n=t.payload;e.ping=n},updatedUserCount:function(e,t){var n=t.payload;e.userCount=n}}}),jt=bt.actions,ft=bt.reducer,mt=Object(p.c)({name:"users",initialState:[],reducers:{fetched:function(e,t){var n=t.payload;e.push.apply(e,Object(L.a)(n.filter(B(e))))},updated:function(e,t){var n=t.payload,c=e.find((function(e){return e.id===n.userId}));c&&Object.assign(c,n.partialUser)},deleted:function(e,t){var n=t.payload,c=e.findIndex((function(e){return e.id===n.userId}));e.splice(c,1)}}}),ht=mt.actions,pt=mt.reducer,Ot=function(e){return function(t){t(U.wsCallBegan({event:"USER_UPDATE",data:Object(u.a)(Object(u.a)({},e),{},{token:G()})}))}},vt=function(e){return Object(O.a)((function(e){return e.entities.users}),(function(t){var n;return null!==(n=t.find((function(t){return t.id===e})))&&void 0!==n?n:{avatarURL:"/avatars/unknown.png",discriminator:0,username:"Unknown"}}))},gt=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth.user})),n=Object(R.a)(),c=n.register,a=n.handleSubmit,r=n.setValue,i=Object(d.c)((function(e){return e.config.devMode}));return Object(f.jsxs)("div",{className:"flex flex-col pt-14 px-10 pb-20 h-full mt-1",children:[Object(f.jsxs)("form",{onChange:function(){return e(y(!0))},children:[Object(f.jsx)("header",{children:Object(f.jsx)("h1",{className:"text-xl font-bold inline",children:"My Account"})}),Object(f.jsxs)("section",{className:"w-1/2",children:[Object(f.jsx)(Y,{label:"Username",name:"username",register:c,options:{value:t.username},className:"pt-5"}),Object(f.jsx)(Y,{label:"Email",name:"email",register:c,options:{value:t.email},className:"pt-5"}),Object(f.jsx)(Y,{type:"file",accept:"image/*",label:"Avatar Image",className:"pt-5",name:"avatarURL",register:function(){},options:{value:t.avatarURL},onChange:function(t){var n,c,a=null===(n=t.currentTarget)||void 0===n||null===(c=n.files)||void 0===c?void 0:c[0];a&&e(function(e){return function(t){var n=function(){var e=Object(te.a)(ee.a.mark((function e(n){var c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.url,e.abrupt("return",t(Ot({avatarURL:c})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t(P(e,n))}}(a))}})]}),Object(f.jsx)(J,{setValue:r,onSave:function(t){a((function(t){return e(Ot(t))}))(t)},obj:t})]}),Object(f.jsx)(S,{className:"py-2 mt-5",title:"Advanced Settings"}),Object(f.jsxs)("section",{children:[Object(f.jsxs)("div",{className:"w-1/2 pb-5",children:[Object(f.jsx)("label",{htmlFor:"devMode",children:"Dev Mode"}),Object(f.jsx)(qe,{onChange:function(e){return e.stopPropagation()},onClick:function(){return e((function(e,t){var n=t().config;e(dt.toggleDevMode()),ot("devMode",!n.devMode)}))},checked:i,className:"float-right",id:"devMode"})]}),Object(f.jsx)(q,{id:"deleteUserButton",role:"button",onClick:a((function(){window.confirm("Are you sure you want to delete your user?")&&e((function(e){e(U.wsCallBegan({event:"USER_DELETE",data:{token:G()}}))}))})),className:"bg-danger",children:"Delete"})]})]})},xt=Object(p.c)({name:"auth",initialState:{attemptedLogin:!1,shouldVerify:!1},reducers:{ready:function(e,t){var n=t.payload;e.user=n.user},updatedUser:function(e,t){var n=t.payload;Object.assign(e.user,n.partialUser)},loggedIn:function(e){e.attemptedLogin=!0},loggedOut:function(e){delete e.user,e.attemptedLogin=!1,e.shouldVerify=!1},shouldVerify:function(e){e.shouldVerify=!0}}}),Nt=xt.actions,yt=xt.reducer,Et=function(){return function(e,t){!t().auth.user&&G()&&e(U.wsCallBegan({event:"READY",data:{token:G()}}))}},wt=function(){return function(e){e(Nt.loggedOut()),localStorage.removeItem("token")}},Ct=function(e){return function(t){t(U.restCallBegan({onSuccess:[],url:"/auth/verify?code=".concat(e),callback:function(e){var n=e.message,c=e.token;n&&t(w({content:n,variant:"info"})),c&&(localStorage.setItem("token",c),t(Et()))}}))}},It=function(){var e=Object(d.b)(),t=Object(R.a)(),n=Object(d.c)((function(e){return e.auth.user}));return Object(f.jsxs)("div",{className:"flex flex-col pt-14 px-10 pb-20 h-full mt-1",children:[Object(f.jsx)("header",{children:Object(f.jsx)("h1",{className:"text-xl font-bold inline",children:"Account Security"})}),Object(f.jsx)(S,{className:"py-2 mt-5",title:"Change Password"}),Object(f.jsxs)("section",{className:"w-1/2",children:[!n.verified&&Object(f.jsxs)("div",{className:"secondary",children:[Object(f.jsx)(de.a,{icon:le.o}),Object(f.jsx)("span",{className:"ml-1",children:"To change your password, your email must be verified."})]}),Object(f.jsx)(Y,{label:"Old Password",name:"oldPassword",type:"password",register:t.register}),Object(f.jsx)(Y,{label:"New Password",name:"newPassword",type:"password",className:"pt-5",register:t.register}),Object(f.jsx)("div",{className:"flex justify-center w-full mt-4",children:Object(f.jsx)(q,{onClick:t.handleSubmit((function(n){var c=t.getValues(),a=c.oldPassword,r=c.newPassword;t.handleSubmit((function(){return e(function(e,t){return function(n,c){var a=c().auth.user;n(U.restCallBegan({onSuccess:[],method:"post",url:"/auth/change-password",data:{email:a.email,oldPassword:e,newPassword:t},callback:function(e){var t=e.message,c=e.token;t&&n(w({content:t,variant:"info"})),c&&localStorage.setItem("token",c)}}))}}(a,r))}))(n)})),className:"bg-warning",children:"Change"})})]}),Object(f.jsxs)("section",{className:"mt-10",children:[Object(f.jsx)(S,{title:"Login Status",className:"pb-2"}),n.verified?Object(f.jsxs)("div",{className:"success",children:[Object(f.jsx)(de.a,{icon:le.e,className:"mr-1"}),Object(f.jsx)("span",{children:"Your email is verified and email 2FA is enabled."})]}):Object(f.jsxs)("div",{className:"warning",children:[Object(f.jsx)(de.a,{icon:le.j,className:"mr-1"}),Object(f.jsx)("span",{children:"Your email is unverified which means email 2FA is unavailable."})]})]})]})},St=function(){var e=Object(d.c)((function(e){return e.auth.user})),t=Object(a.useState)("overview"),n=Object(I.a)(t,2),c=n[0],r=n[1];return e?Object(f.jsx)(M,{typeName:"UserSettings",size:"full",children:Object(f.jsxs)("div",{className:"grid grid-cols-12 h-full",children:[Object(f.jsx)("div",{className:"col-span-4 bg-bg-secondary",children:Object(f.jsxs)("nav",{className:"float-right flex-grow py-14 w-48 my-1 mr-4",children:[Object(f.jsx)(S,{className:"normal px-2.5 pb-1.5",title:"User Settings"}),Object(f.jsx)(Pe,{tab:c,setTab:r,tabs:[{name:"Overview",id:"overview"},{name:"Security",id:"security"}]}),Object(f.jsx)("div",{className:"rounded-sm bg-bg-modifier-accent h-px w-42 my-2 mx-2.5 "}),Object(f.jsx)(o.b,{to:"/logout",className:"danger flex items-center rounded py-1.5 px-2.5 h-8 mb-0.5",children:"Logout"})]})}),Object(f.jsxs)("div",{className:"col-span-6 h-full",children:["overview"===c&&Object(f.jsx)(gt,{}),"security"===c&&Object(f.jsx)(It,{})]}),Object(f.jsx)("div",{className:"col-span-2 h-full",children:Object(f.jsx)(Ue,{})})]})}):null},At=n(166).a.connect("https://api.accord.app",{secure:!0,path:"/ws",transports:["websocket","polling","flashsocket"]});At.io.on("open",(function(){return console.log("Connected to WS Server")}));var _t,Tt,kt,Mt,Rt,Lt,Dt=At,Gt=Object(p.c)({name:"typing",initialState:[],reducers:{userTyped:function(e,t){var n=t.payload;e.push(n)},userStoppedTyping:function(e,t){var n=t.payload,c=Ut(e,n.userId,n.channelId);e.splice(c,1)}}}),Ut=function(e,t,n){return e.findIndex((function(e){return e.channelId===n&&e.userId===t}))},Pt=Gt.actions,Bt=Gt.reducer,Vt=Object(p.c)({name:"messages",initialState:{total:{},list:[]},reducers:{fetched:function(e,t){var n=e.list,c=e.total,a=t.payload;n.unshift.apply(n,Object(L.a)(a.list.filter(B(n)))),c[a.channelId]=a.total},created:function(e,t){var n=e.list,c=e.total,a=t.payload;n.push(a.message),c[a.message.channelId]++},deleted:function(e,t){var n=e.list,c=e.total,a=t.payload,r=n.findIndex((function(e){return e.id===a.messageId}));n.splice(r,1),c[a.channelId]--},updated:function(e,t){var n=e.list,c=t.payload,a=n.find((function(e){return e.id===c.message.id}));Object.assign(a,c.message)}}}),Ht=function(e){return Object(O.a)((function(e){return e.entities.messages.list}),(function(t){return t.filter((function(t){return t.channelId===e}))}))},Ft=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return function(n,c){var a=c().entities.messages;a.list.length!==a.total[e]&&n(U.restCallBegan({onSuccess:[Wt.fetched.type],url:"/channels/".concat(e,"/messages?back=").concat(t),headers:D()}))}},zt=function(e,t,n){return function(c){c(U.wsCallBegan({event:"MESSAGE_CREATE",data:Object(u.a)(Object(u.a)({},t),{},{channelId:e,attachmentURLs:n})}))}},Wt=Vt.actions,$t=Vt.reducer,Kt=n(36),Yt=Object(p.c)({name:"pings",initialState:{},reducers:{initialized:function(e,t){var n=t.payload;Object.assign(e,n)},added:function(e,t){var n=t.payload;e[n.guildId].push(n.channelId)},channelMarkedAsRead:function(e,t){var n=t.payload,c=e[n.guildId],a=c.indexOf(n.channelId);c.splice(a,1)},guildMarkedAsRead:function(e,t){e[t.payload.guildId]=[]}}}),qt=Yt.actions,Jt=Yt.reducer,Zt=[];function Qt(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Lt=t,n=(new Date).getTime()-kt,console.log("start feedback",n),Mt||Rt){e.next=6;break}return e.next=6,en();case 6:Rt.onstop||(Rt.onstop=nn),"recording"!==Rt.state&&Rt.start(),Tt=setTimeout((function(){return"recording"===Rt.state&&Rt.stop()}),300);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function en(){return tn.apply(this,arguments)}function tn(){return(tn=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!0});case 2:Mt=e.sent,(Rt=new MediaRecorder(Mt)).onstart=function(){return Zt=[]},Rt.ondataavailable=function(e){return Zt.push(e.data)},Rt.onstop=nn;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nn(){return cn.apply(this,arguments)}function cn(){return(cn=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("stop recording"),kt=(new Date).getTime(),t=new Blob(Zt,{type:"audio/ogg; codecs=opus"}),Dt.emit("VOICE_DATA",{channelId:Lt,blob:t}),Rt.onstop=nn;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Dt.on("VOICE_DATA",function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,c,a,r,i,s,o,l,d,u;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.channelId,c=t.connections,console.log("receive VOICE_DATA"),n){e.next=4;break}return e.abrupt("return");case 4:a=Object(Kt.a)(c);try{for(a.s();!(r=a.n()).done;)s=r.value,o=s.blob,l=s.userId,null===(i=document.querySelector("#voice".concat(l)))||void 0===i||i.remove(),d=new Blob([o],{type:"audio/ogg; codecs=opus"}),(u=document.createElement("audio")).id="voice".concat(l),u.src=window.URL.createObjectURL(d),u.play()}catch(b){a.e(b)}finally{a.f()}Qt(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var an=function(){return function(e){e(U.restCallBegan({onSuccess:[],headers:D(),url:"/users/entities",callback:function(t){e(H.fetched(t.channels)),e(ce.fetched(t.guilds)),e(pe.fetched(t.members)),e(Ne.fetched(t.roles)),e(ht.fetched(t.users)),e(jt.fetchedEntities())}}))}},rn=function(){var e=Object(d.b)(),t=Object(l.g)(),n=Object(d.d)(),c=Object(d.c)((function(e){return e.meta.hasListenedToWS})),r=Object(A.b)().enqueueSnackbar,i=function(){return n.getState()};return Object(a.useEffect)((function(){if(!c){var a=function(e){return r("".concat(e.content,"."),{anchorOrigin:{vertical:"bottom",horizontal:"left"},variant:e.variant,autoHideDuration:5e3})};Dt.on("error",(function(e){var t,n;return a({variant:"error",content:null!==(t=null===(n=e.data)||void 0===n?void 0:n.message)&&void 0!==t?t:e.message})})),v.a.on("dialog",a),v.a.on("openUserProfile",(function(t){var c=vt(t)(n.getState());c.discriminator&&e(E(c))})),Dt.on("CHANNEL_CREATE",(function(n){var c=i(),a=c.auth,r=c.ui,s=n.creatorId===a.user.id;if(e(H.created(n)),s&&r.activeGuild){if(e(x.closedModal()),"VOICE"===n.channel.type)return;t.push("/channels/".concat(r.activeGuild.id,"/").concat(n.channel.id))}})),Dt.on("CHANNEL_DELETE",(function(n){var c,a=i().ui;n.channelId===(null===(c=a.activeChannel)||void 0===c?void 0:c.id)&&a.activeGuild&&t.push("/channels/".concat(a.activeGuild.id)),e(H.deleted(n))})),Dt.on("CHANNEL_UPDATE",(function(t){return e(H.updated(t))})),Dt.on("GUILD_CREATE",(function(n){e(ht.fetched(n.users)),e(H.fetched(n.channels)),e(pe.fetched(n.members)),e(Ne.fetched(n.roles)),e(ce.created(n)),e(x.closedModal()),t.push("/channels/".concat(n.guild.id))})),Dt.on("GUILD_DELETE",(function(n){var c,a=i().ui;n.guildId===(null===(c=a.activeGuild)||void 0===c?void 0:c.id)&&(e(x.closedModal()),t.push("/channels/@me")),e(ce.deleted(n));var r=ge(n.guildId)(i()).id;e(pe.removed({memberId:r}))})),Dt.on("GUILD_MEMBER_ADD",(function(t){e(ht.fetched([t.user])),e(pe.added(t))})),Dt.on("GUILD_MEMBER_UPDATE",(function(t){return e(pe.updated(t))})),Dt.on("GUILD_MEMBER_REMOVE",(function(t){return e(pe.removed(t))})),Dt.on("GUILD_ROLE_CREATE",(function(t){return e(Ne.created(t))})),Dt.on("GUILD_ROLE_DELETE",(function(t){return e(Ne.deleted(t))})),Dt.on("GUILD_ROLE_UPDATE",(function(t){return e(Ne.updated(t))})),Dt.on("GUILD_UPDATE",(function(t){return e(ce.updated(t))})),Dt.on("INVITE_CREATE",(function(t){e(ze.created(t)),e(x.focusedInvite(t.invite))})),Dt.on("INVITE_DELETE",(function(t){return e(ze.deleted(t))})),Dt.on("MESSAGE_CREATE",(function(t){var n;if(!(null===(n=i().auth.user.ignored)||void 0===n?void 0:n.userIds.includes(t.message.authorId))){e(Wt.created(t));t.message.channelId;var c=i().ui.activeChannel;c&&c.id}})),Dt.on("MESSAGE_DELETE",(function(t){return e(Wt.deleted(t))})),Dt.on("MESSAGE_UPDATE",(function(t){return e(Wt.updated(t))})),Dt.on("PRESENCE_UPDATE",(function(t){var n=t.userId,c=t.status;return e(ht.updated({userId:n,partialUser:{status:c}}))})),Dt.on("READY",(function(t){e(an()),e(Nt.ready(t)),e(ht.fetched([t.user]))})),Dt.on("TYPING_START",(function(t){e(Pt.userTyped(t));setTimeout((function(){return e(Pt.userStoppedTyping(t))}),5e3)})),Dt.on("USER_DELETE",(function(){Dt.disconnect(),t.push("/"),e(wt())})),Dt.on("USER_UPDATE",(function(t){e(Nt.updatedUser(t)),e(ht.updated(t))})),Dt.on("VOICE_STATE_UPDATE",function(){var t=Object(te.a)(ee.a.mark((function t(n){var c,a,r;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n.userId,a=n.voice,r={userId:c,partialUser:{voice:a}},i().auth.user.id===c&&e(Nt.updatedUser(r)),e(ht.updated(r)),!a.channelId){t.next=10;break}return t.next=8,Qt(a.channelId);case 8:t.next=11;break;case 10:console.log("stopping feedback"),clearTimeout(Tt),Rt&&"recording"===Rt.state&&(Rt.onstop=null,Rt.stop());case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e(jt.listenedToWS())}}),[c]),null},sn=function(e){var t=Object(d.b)(),n=Object(d.c)((function(e){return e.ui.openDropdown})),c=Object(d.c)((function(e){return e.config.devMode}));Object(a.useEffect)((function(){var t;document.title=null!==(t=e.pageTitle)&&void 0!==t?t:"accord.app"}),[]);return c||(console.log("%cAttention!","color: red; font-size: 32px; font-weight: 900;"),console.log("%cIf someone told you to paste something in this console, it's probably against the TOS and could steal your account.","color: darkred; font-size: 16px; font-weight: 700;")),Object(f.jsxs)("div",Object(u.a)(Object(u.a)({onClick:function(){return n&&t(x.toggleDropdown({}))}},K(e)),{},{children:[e.children,Object(f.jsx)(rn,{}),Object(f.jsx)(Ve,{}),Object(f.jsx)(He,{}),Object(f.jsx)($e,{}),Object(f.jsx)(Be,{}),Object(f.jsx)(Xe,{}),Object(f.jsx)(et,{}),Object(f.jsx)(St,{}),Object(f.jsx)(it,{})]}))},on=n.p+"static/media/chat.304c50bf.svg",ln=n.p+"static/media/devices.99f78ca4.svg",dn=n.p+"static/media/friends.547620e1.svg",un=n.p+"static/media/secure.7370ac46.svg",bn=n(163),jn=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.meta.userCount}));Object(a.useEffect)((function(){e((function(e){e(U.restCallBegan({onSuccess:[jt.updatedUserCount.type],url:"/users/count"}))}))}),[]);var n=function(e){return Object(f.jsxs)("div",{"data-v-59c13769":"",children:[Object(f.jsx)("h3",{className:"text-center text-1xl font-black font mb-4","data-v-59c13769":"",children:e.title}),Object(f.jsx)("img",{className:"w-44 inline",src:e.src,alt:"Chat","data-v-59c13769":""})]})},c=[];return document.addEventListener("keyup",(function(e){if(c.push(e.key),c.join("").endsWith("testing123"))try{document.querySelector("h1").textContent="Easteregg++",document.querySelector(".lead").textContent="Are you happy now?"}catch(t){}})),Object(f.jsxs)(sn,{className:"z-10 bg-bg-tertiary h-full relative",pageTitle:"accord.app | Like Discord but Cooler","data-v-59c13769":"",children:[Object(f.jsx)(h,{"data-v-59c13769":""}),Object(f.jsxs)("section",{className:"z-10 text-center my-4","data-v-59c13769":"",children:[Object(f.jsx)("h1",{"data-v-59c13769":"",children:"It's time to ditch Discord and Zoom."}),Object(f.jsx)("div",{className:"flex justify-center","data-v-59c13769":"",children:Object(f.jsxs)("div",{className:"lead font-light mt-2 max-w-xl","data-v-59c13769":"",children:["All-in-one text and voice chat, just like Discord. Stop paying for Discord boosts and hassling with Zoom.",Boolean(t)&&Object(f.jsxs)("span",{className:"pl-1","data-v-59c13769":"",children:["Join ",Object(f.jsx)(bn.a,{value:t,displayType:"text",thousandSeparator:!0,"data-v-59c13769":""})," Accord users that simplified their life."]})]})}),Object(f.jsx)("button",{className:"font-primary shadow-md bg-green text-dark","data-v-59c13769":"",children:Object(f.jsx)(o.b,{to:"/login","data-v-59c13769":"",children:Object(f.jsx)(q,{className:"bg-white text-black rounded w-56 h-11 px-6 mt-8","data-v-59c13769":"",children:"Login"})})}),Object(f.jsx)("button",{className:"shadow-md bg-green text-dark ml-10","data-v-59c13769":"",children:Object(f.jsx)(o.b,{to:"/channels/@me","data-v-59c13769":"",children:Object(f.jsx)(q,{className:"text-black bg-success rounded W-56 h-11 px-6 mt-8","data-v-59c13769":"",children:"Open Accord in Your Browser"})})})]}),Object(f.jsxs)("section",{title:"*Description may represent unreleased features.*",className:"absolute top-50 w-1/2 inset-x-1/4 flex justify-between","data-v-59c13769":"",children:[Object(f.jsx)(n,{src:on,title:"Chat w/ Friends","data-v-59c13769":""}),Object(f.jsx)(n,{src:ln,title:"On Mobile or Desktop","data-v-59c13769":""}),Object(f.jsx)(n,{src:dn,title:"Join and Manage Guilds","data-v-59c13769":""}),Object(f.jsx)(n,{src:un,title:"Super Secure","data-v-59c13769":""})]}),Object(f.jsx)("footer",{className:"fixed bottom-0 w-full","data-v-59c13769":"",children:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://api.accord.app/v2",REACT_APP_CDN_URL:"https://api.accord.app/assets",REACT_APP_REPO:"https://github.com/accord-dot-app/app",REACT_APP_ROOT_API_URL:"https://api.accord.app"}).REACT_APP_VERSION&&Object(f.jsxs)("a",{className:"float-right normal mr-2",href:"".concat("https://github.com/accord-dot-app/app","/commit/").concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://api.accord.app/v2",REACT_APP_CDN_URL:"https://api.accord.app/assets",REACT_APP_REPO:"https://github.com/accord-dot-app/app",REACT_APP_ROOT_API_URL:"https://api.accord.app"}).REACT_APP_VERSION),target:"_blank","data-v-59c13769":"",children:["v",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://api.accord.app/v2",REACT_APP_CDN_URL:"https://api.accord.app/assets",REACT_APP_REPO:"https://github.com/accord-dot-app/app",REACT_APP_ROOT_API_URL:"https://api.accord.app"}).REACT_APP_VERSION.slice(0,7)]})})]})},fn=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.ui.activeChannel})),n=Object(d.c)((function(e){return e.ui.activeGuild})),c=Object(d.c)((function(e){return e.config.memberListToggled}));return Object(f.jsxs)("div",{className:"shadow-elevation flex items-center h-12 px-5",children:[t&&Object(f.jsx)(de.a,{icon:le.m,className:"scale-150 mr-2"}),Object(f.jsxs)("h3",{className:"flex-grow ml-1",children:[Object(f.jsx)("span",{className:"font-bold",children:null===t||void 0===t?void 0:t.name}),Object(f.jsx)("span",{className:"muted ml-3",children:null===t||void 0===t?void 0:t.summary})]}),n&&Object(f.jsx)(de.a,{onClick:function(){return e((function(e,t){var n=t().config;e(dt.toggleMemberList()),ot("memberListToggled",!n.memberListToggled)}))},icon:le.y,className:j()("cursor-pointer",{heading:c,muted:!c})})]})},mn=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth.user})),n=function(){var n,c,a=null===(n=t.voice)||void 0===n?void 0:n.channelId,r=Object(d.c)($(null!==a&&void 0!==a?a:"")),i=Object(d.c)(ie(null!==(c=null===r||void 0===r?void 0:r.guildId)&&void 0!==c?c:"")),s=Object(d.c)((function(e){return e.meta.ping}));return r&&i?Object(f.jsxs)("div",{id:"sidebarFooter",children:[Object(f.jsxs)("div",{className:"justify-between flex items-center p-3 pr-4",children:[Object(f.jsxs)("div",{title:s?"Ping ".concat(s,"ms"):"Pinging server...",children:[Object(f.jsx)(de.a,{icon:le.t,className:j()({success:s&&s<100,secondary:s&&s>=100&&s<200,warning:s&&s>=200&&s<300,danger:s&&s>=300,muted:!s})}),Object(f.jsx)("strong",{className:"success ml-2",children:"Voice Connected"}),Object(f.jsxs)("div",{className:"normal",children:[r.name," / ",i.name]})]}),Object(f.jsx)(de.a,{onClick:function(){return e((function(e){e(U.wsCallBegan({event:"CHANNEL_LEAVE"}))}))},className:"float-right cursor-pointer",icon:le.q})]}),Object(f.jsx)("hr",{className:"border-bg-primary"})]}):null};return Object(f.jsxs)("div",{className:"bg-bg-secondary-alt",children:[Object(f.jsx)(n,{}),Object(f.jsxs)("div",{className:"relative flex items-center py-2",children:[Object(f.jsx)("div",{className:"select-all",children:Object(f.jsx)(rt,{user:t})}),Object(f.jsx)(de.a,{id:"userSettingsButton",onClick:function(){return e(x.openedModal("UserSettings"))},className:"float-right cursor-pointer absolute right-4",icon:le.g})]})]})},hn=function(e){var t=Object(d.c)((function(e){return e.ui.openDropdown}));return Object(f.jsxs)("div",{className:"w-full pt-3",children:[Object(f.jsxs)("div",{className:"flex justify-between items-center",children:[Object(f.jsx)("h1",{className:"flex-grow font-bold pl-2",children:e.title}),Object(f.jsx)(de.a,{icon:le.f})]}),t===e.type.name&&Object(f.jsx)("div",{className:"absolute bg-bg-floating rounded w-56 p-2 mt-5",children:e.children})]})},pn=function e(){var t=Object(d.b)(),n=Object(d.c)((function(e){return e.ui.activeGuild})),c=Ae();return n?Object(f.jsxs)(hn,{title:n.name,type:e,children:[c.can("CREATE_INVITE",n.id)&&Object(f.jsxs)("a",{className:"rounded-sm flex items-center justify-between text-sm p-2 h-8 mb-1",onClick:function(){return t(x.openedModal("CreateInvite"))},children:[Object(f.jsx)("span",{className:"primary",children:"Invite people"}),Object(f.jsx)(de.a,{className:"float-right w-1",icon:le.z})]}),c.can("MANAGE_CHANNELS",n.id)&&Object(f.jsxs)("a",{className:"rounded-sm flex items-center justify-between p-2 h-8 text-sm mb-1",onClick:function(){return t(x.openedModal("CreateChannel"))},children:[Object(f.jsx)("span",{className:"font",children:"Create channel"}),Object(f.jsx)(de.a,{className:"float-right w-1",icon:le.r})]}),(c.can("MANAGE_GUILD",n.id)||c.can("MANAGE_ROLES",n.id)||c.can("MANAGE_INVITES",n.id))&&Object(f.jsxs)("a",{onClick:function(){return t(x.openedModal("GuildSettings"))},className:"rounded-sm flex items-center justify-between p-2 h-8 text-sm",children:[Object(f.jsx)("span",{className:"font",children:"Guild settings"}),Object(f.jsx)(de.a,{className:"float-right w-1",icon:le.g})]})]}):null},On=(n(212),function(e){var t=e.channel,n=Object(d.b)(),c=Object(l.i)().guildId,a=Ae(),r=Object(d.c)((function(e){return e.config.devMode}));return c?Object(f.jsxs)(Q.a,{id:t.id,className:"bg-bg-tertiary rounded shadow w-52 p-2",children:[a.can("MANAGE_CHANNELS",c)&&Object(f.jsxs)(Q.c,{className:"danger cursor-pointer",onClick:function(){return n(z(t.id))},children:[Object(f.jsx)("span",{children:"Delete channel"}),Object(f.jsx)(de.a,{icon:le.v,className:"float-right"})]}),r&&Object(f.jsx)(ue,{ids:[{title:"Channel ID",id:t.id}]})]},t.id):null}),vn=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.ui})),n=t.activeGuild,c=t.activeChannel,a=Object(d.c)(se(null===n||void 0===n?void 0:n.id)),r=Ae();if(!n||!r.can("VIEW_CHANNELS",n.id))return null;var i=function(t){var a=t.channel,i="VOICE"===a.type?"#":"/channels/".concat(n.id,"/").concat(a.id),s={TEXT:le.m,VOICE:le.B}[a.type],l=function(){var e,t=Object(d.c)((e=a.id,Object(O.a)((function(e){return{channels:e.entities.channels,users:e.entities.users}}),(function(t){var n=t.channels,c=t.users;return n.find((function(t){return t.id===e})).userIds.map((function(e){return c.find((function(t){return t.id===e}))}))}))));return"VOICE"===a.type&&t.length?Object(f.jsx)("div",{className:"p-2 pl-3","data-v-77936dd4":"",children:t.map((function(e){return Object(f.jsx)(Q.b,{id:e.id,"data-v-77936dd4":"",children:Object(f.jsx)("div",{className:"mb-1","data-v-77936dd4":"",children:Object(f.jsx)(rt,{user:e,size:"sm",guild:n,"data-v-77936dd4":""})})},e.id)}))}):null},u=function(){return Object(f.jsxs)("span",{className:"tab flex-grow flex justify-between","data-v-77936dd4":"",children:[Object(f.jsx)("span",{"data-v-77936dd4":"",children:a.name}),Object(f.jsx)("span",{onClick:function(t){t.preventDefault(),t.stopPropagation(),e(x.pageSwitched({channel:a,guild:n})),e(x.openedModal("ChannelSettings"))},className:"cursor-pointer opacity-100","data-v-77936dd4":"",children:r.can("MANAGE_CHANNELS",n.id)&&Object(f.jsx)(de.a,{className:"settings",icon:le.g,"data-v-77936dd4":""})})]})};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Q.b,{id:a.id,"data-v-77936dd4":"",children:Object(f.jsxs)(o.b,{onClick:function(){var t;"VOICE"===a.type&&e((t=a.id,function(e,n){var c=$(t)(n()),a=n().auth.user;c.userIds.includes(a.id)||e(U.wsCallBegan({event:"CHANNEL_JOIN",data:{channelId:t}}))}))},to:i,className:j()("cursor-pointer flex items-center rounded h-8 p-2 pl-3",{active:a.id===(null===c||void 0===c?void 0:c.id)}),"data-v-77936dd4":"",children:[Object(f.jsx)(de.a,{className:j()("float-left scale-150 muted fill-current","VOICE"===a.type?"mr-2":"mr-3"),icon:s,"data-v-77936dd4":""}),Object(f.jsx)(u,{"data-v-77936dd4":""}),Object(f.jsx)(On,{channel:a,"data-v-77936dd4":""})]})},a.id),Object(f.jsx)(l,{"data-v-77936dd4":""})]})};return Object(f.jsx)("div",{className:"channel-tabs","data-v-77936dd4":"",children:a.map((function(e){return Object(f.jsx)(i,{channel:e,"data-v-77936dd4":""},e.id)}))})},gn=function(){var e=Object(d.b)();return Object(f.jsxs)("div",{className:"flex flex-col bg-bg-secondary w-60",children:[Object(f.jsx)("div",{id:"sidebarHeader",className:"items-center shadow-elevation cursor-pointer h-12 pl-2.5 pr-4",onClick:function(){return e(x.toggleDropdown(pn))},children:Object(f.jsx)(pn,{})}),Object(f.jsx)("nav",{className:"sidebar-tabs flex-grow px-2 pt-4",children:Object(f.jsx)(vn,{})}),Object(f.jsx)(mn,{})]})},xn=function(e){var t=e.guild,n=Object(d.b)(),c=Object(d.c)((function(e){return e.config.devMode}));return Object(f.jsxs)(Q.a,{id:t.id,className:"bg-bg-tertiary rounded shadow w-48 p-2",children:[Object(f.jsxs)(Q.c,{className:"flex items-center justify-between danger cursor-pointer",onClick:function(){return n((e=t.id,function(t,n){var c=n().auth.user;t(U.wsCallBegan({event:"GUILD_MEMBER_REMOVE",data:{guildId:e,userId:c.id}}))}));var e},children:[Object(f.jsx)("span",{children:"Leave Guild"}),Object(f.jsx)(de.a,{icon:le.i})]}),c&&Object(f.jsx)(ue,{ids:[{title:"Guild ID",id:t.id}]})]},t.id)},Nn=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth.user})),n=Object(d.c)((function(e){return e.entities.guilds})).map((function(e){return Object(f.jsxs)(Q.b,{id:e.id,children:[Object(f.jsx)(o.b,{to:"/channels/".concat(e.id),children:Object(f.jsx)(at,{to:"/channels/".concat(e.id),imageURL:e.iconURL,name:e.name})}),Object(f.jsx)(xn,{guild:e})]},e.id)})),c=function(){return Object(f.jsx)("div",{id:"createGuildButton",onClick:function(){return e(x.openedModal("CreateGuild"))},className:"success text-3xl",children:Object(f.jsx)(at,{name:"+",classes:"success"})})};return Object(f.jsxs)("div",{className:"overflow-auto min-h-screen float-left p-3 flex flex-col bg-bg-tertiary",children:[Object(f.jsx)(o.b,{to:"/channels/@me",children:Object(f.jsx)(at,{to:"/channels/@me",imageURL:t.avatarURL,name:t.username})}),Object(f.jsx)("div",{className:"flex justify-center mb-1",children:Object(f.jsx)("div",{className:"h-0.5 w-8 rounded-sm bg-bg-modifier-accent mb-1"})}),n,Object(f.jsx)(c,{})]})},yn=function(e){return Object(f.jsxs)("div",{className:"sidebar flex float-left",children:[Object(f.jsx)(Nn,{}),Object(f.jsx)(gn,{})]})},En=(n(213),n(214),function(e){var t=e.message,n=Object(d.b)(),c=Object(d.c)((function(e){return e.auth.user})),a=Object(d.c)((function(e){return e.ui.activeGuild})),r=Object(d.c)((function(e){return e.ui.openModal})),i=Ae(),s=t.authorId===c.id,o=i.canInChannel("MANAGE_MESSAGES",a.id,t.channelId)||(null===a||void 0===a?void 0:a.ownerId)===c.id||s;return r?null:Object(f.jsxs)("div",{className:"float-right shadow bg-bg-secondary px-2 rounded cursor-pointer",children:[s&&Object(f.jsx)("div",{className:"inline",children:Object(f.jsx)(de.a,{onClick:function(){return n(x.startedEditingMessage(t.id))},className:"mr-2",icon:le.p})}),o&&Object(f.jsx)("div",{className:"inline",children:Object(f.jsx)(de.a,{onClick:function(){return n((e=t.id,function(t){t(U.wsCallBegan({event:"MESSAGE_DELETE",data:{messageId:e}}))}));var e},className:"danger",icon:le.v})})]})}),wn=function(e){var t=e.message,n=Object(l.i)().guildId,c=Object(d.c)((function(e){return e.config.devMode}));return n?Object(f.jsxs)(Q.a,{id:t.id,className:"bg-bg-tertiary rounded shadow w-48 p-2",children:[Object(f.jsx)("div",{className:"overflow-hidden",children:Object(f.jsx)("span",{className:"bg-bg-primary p-1 rounded max-w-full",children:t.content})}),c&&Object(f.jsx)(ue,{ids:[{title:"Message ID",id:t.id}]})]},t.id):null},Cn=function(e){var t=Object(d.c)((function(e){return e.ui.activeChannel})),n=Object(d.b)(),c=Object(d.c)((function(e){return e.ui.editingMessageId})),r=Object(d.c)((function(e){return e.ui.activeGuild})),i=Ae(),s=Object(a.useRef)(null),o=Object(I.a)(e.contentState,2),l=o[0],u=o[1],b=function(e){"Escape"===e.key&&c&&n(x.stoppedEditingMessage())},m=i.canInChannel("SEND_MESSAGES",r.id,t.id);return Object(f.jsx)("div",{className:j()("resize-none normal rounded-lg appearance-none leading-tight","focus:outline-none w-full right-5 left-5 max-h-96 py-3 px-4",{"cursor-not-allowed":!m}),children:Object(f.jsx)("div",{id:"messageBox",className:"focus:outline-none",ref:s,onKeyUp:function(c){var a;u(c.currentTarget.innerText),b(c),n((a=t.id,function(e,t){var n=nt()(new Date).diff(_t,"seconds");_t&&n<5||(_t=new Date,e(U.wsCallBegan({event:"TYPING_START",data:{channelId:a}})))})),"Enter"!==c.key||c.shiftKey||c.preventDefault();var r=l.replaceAll("\n","");"Enter"===c.key&&!c.shiftKey&&r&&(e.saveEdit(),u(""),s.current.innerText="")},contentEditable:m,defaultValue:l,placeholder:m?c?void 0:"Message #".concat(t.name):"Insufficient perms."})})},In=function(e){var t=Object(d.c)((function(e){return e.ui.activeChannel})),n=Object(d.b)(),c=r.a.createRef();return e.editingMessageId?null:Object(f.jsx)("div",{className:"px-4",children:Object(f.jsxs)("div",{className:"relative",children:[Object(f.jsx)("input",{ref:c,type:"file",name:"file",accept:"image/*",onChange:function(c){var a,r,i,s=c.target;n((a=t.id,r={content:e.content},i=s.files[0],function(e){var t=function(){var t=Object(te.a)(ee.a.mark((function t(n){var c;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.url,t.abrupt("return",e(zt(a,r,[c])));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e(P(i,t))}))},hidden:!0}),Object(f.jsx)(de.a,{icon:le.w,onClick:function(){var e;return null===(e=c.current)||void 0===e?void 0:e.click()},className:"cursor-pointer z-1"})]})})},Sn=function(){var e,t=Object(d.d)(),n=Object(d.c)((function(e){return e.ui.activeChannel})),c=Object(d.c)((e=n.id,Object(O.a)((function(e){return e.entities.typing}),(function(t){return t.filter((function(t){return t.channelId===e}))}))));if(!c.length)return null;var a=c.map((function(e){return(n=e.userId,vt(n)(t.getState())).username;var n})).join(", ");return Object(f.jsx)("span",{children:c.length>3?"Many users are typing...":"".concat(a," is typing...")})},An=function(e){var t,n=Object(d.b)(),c=Object(a.useState)(null!==(t=e.content)&&void 0!==t?t:""),r=Object(I.a)(c,2),i=r[0],s=r[1],l=Object(d.c)((function(e){return e.ui.activeChannel})),b=Object(d.c)((function(e){return e.ui.editingMessageId}));Object(a.useEffect)((function(){var t,n;document.querySelector("#messageBox").innerText=null!==(t=null===(n=e.cachedContent)||void 0===n?void 0:n[l.id])&&void 0!==t?t:i}),[l.id]),Object(a.useEffect)((function(){e.cachedContent&&e.setCachedContent&&(e.cachedContent[l.id]=i,e.setCachedContent(e.cachedContent))}),[i]);var j=function(){return n(x.stoppedEditingMessage())},m=function(){var e,t;n(b?(e=b,t={content:i},function(n){n(U.wsCallBegan({event:"MESSAGE_UPDATE",data:Object(u.a)({messageId:e},t)}))}):zt(l.id,{content:i})),s(""),j()};return Object(f.jsxs)("div",{className:b?"mt-2":"px-4",children:[Object(f.jsxs)("div",{className:"rounded-lg bg-bg-secondary flex items-center",children:[Object(f.jsx)(In,{content:i,editingMessageId:b}),Object(f.jsx)(Cn,{contentState:[i,s],saveEdit:m})]}),Object(f.jsx)("div",{className:"text-sm w-full h-6",children:b?Object(f.jsxs)("span",{className:"text-xs py-2",children:["escape to ",Object(f.jsx)(o.b,{to:"#",onClick:j,children:"cancel"})," \u2022 enter to ",Object(f.jsx)(o.b,{to:"#",onClick:m,children:" save"})]}):Object(f.jsx)(Sn,{})})]})},_n=/(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*))/gm,Tn=function(){function e(){Object(fe.a)(this,e),this.patterns={boldItalic:/\*\*\*([\s\S]*?)\*\*\*/g,bold:/\*\*([\s\S]*?)\*\*/g,italic:/^(?!=<code>)\*([\s\S]*?)\*|_([\s\S]*?)_/g,underline:/__([\s\S]*?)__/g,underlineItalics:/__\*([\s\S]*?)\*__/g,underlineBold:/__\*\*([\s\S]*?)\*\*__/g,underlineBoldItalics:/__\*\*\*([\s\S]*?)\*\*\*__/g,strikethrough:/~~([\s\S]*?)~~/g,codeMultiline:/```([\s\S]*?)```/g,codeLine:/`([\s\S]*?)`/g,blockQuoteMultiline:/>>> ([\s\S]*)/g,blockQuoteLine:/^> (.*)$/gm,url:/(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*))/gm}}return Object(me.a)(e,[{key:"toHTML",value:function(e){return e.replace(this.patterns.underlineBold,"<u><strong>$1</strong></u>").replace(this.patterns.underlineItalics,"<u><em>$1</em></u>*__").replace(this.patterns.underlineBoldItalics,"<u><strong><em>$1</em></strong></u>").replace(this.patterns.strikethrough,"<del>$1</del>").replace(this.patterns.boldItalic,"<strong><em>$1</em></strong>").replace(this.patterns.underline,"<u>$1</u>").replace(this.patterns.bold,"<strong>$1</strong>").replace(this.patterns.italic,"<em>$1$2</em>").replace(this.patterns.codeMultiline,"<pre><code>$1</code></pre>").replace(this.patterns.codeLine,"<code>$1</code>").replace(this.patterns.blockQuoteLine,'<span class="blockquote pl-1">$1</span>').replace(this.patterns.blockQuoteMultiline,'<div class="blockquote pl-1">$1</div>').replace(_n,'<a href="$1" target="_blank">$1</div>')}},{key:"messageBox",value:function(e){return e.replace(this.patterns.underlineBold,"__**<u><strong>$1</strong></u>**__").replace(this.patterns.underlineItalics,"__*<u><em>$1</em></u>*__").replace(this.patterns.underlineBoldItalics,"__***<u><strong><em>$1</em></strong></u>***__").replace(this.patterns.strikethrough,"~~<del>$1</del>~~").replace(this.patterns.boldItalic,"***<strong><em>$1</em></strong>***").replace(this.patterns.underline,"<u>$1</u>").replace(this.patterns.bold,"**<strong>$1</strong>**").replace(this.patterns.italic,"<em>$1$2</em>").replace(this.patterns.codeMultiline,"<pre><code>$1</code></pre>").replace(this.patterns.codeLine,"<code>$1</code>").replace(this.patterns.blockQuoteLine,'<span class="blockquote pl-1">$1</span>').replace(this.patterns.blockQuoteMultiline,'<div class="blockquote pl-1">$1</div>').replace(_n,'<a href="$1" target="_blank">$1</div>')}}]),e}(),kn=function(){function e(t){Object(fe.a)(this,e),this.state=t,this.tags=["@245538070684827648","#d{18}"],this.patterns={formatted:{channel:/<#(\d{18})>/gm,user:/<@(\d{18})>/gm},original:{channel:/#([A-Za-z\-\d]{2,32})/gm,user:/@([A-Za-z\d\-\_ ]{2,32}#\d{4})/gm}}}return Object(me.a)(e,[{key:"formatOriginal",value:function(e){var t=this,n=this.state.ui.activeGuild.id;return e.replace(this.patterns.original.channel,(function(e,c){var a=function(e,t){return Object(O.a)((function(e){return e.entities.channels}),(function(n){return n.find((function(n){return n.guildId===e&&n.name==t}))}))}(n,c)(t.state);return a?"<#".concat(null===a||void 0===a?void 0:a.id,">"):e})).replace(this.patterns.original.user,(function(e,n){var c=function(e){return Object(O.a)((function(e){return e.entities.users}),(function(t){var n=e.split("#"),c=Object(I.a)(n,2),a=c[0],r=c[1];return t.find((function(e){return e.username===a&&e.discriminator===+r}))}))}(n)(t.state);return c?"<@".concat(c.id,">"):e}))}},{key:"toHTML",value:function(e){var t=this;return e.replace(this.patterns.formatted.channel,(function(e,n){return t.mentionAnchorTag("channel",n)})).replace(this.patterns.formatted.user,(function(e,n){return t.mentionAnchorTag("user",n)}))}},{key:"mentionAnchorTag",value:function(e,t){var n,c=this.state.auth.user.id,a=this.state.ui.activeGuild.id,r={channel:{onClick:"window.location.href = '/channels/".concat(a,"/").concat(t,"'"),text:"#".concat(null===(n=$(t)(this.state))||void 0===n?void 0:n.name)},user:{onClick:"events.emit('openUserProfile', '".concat(t,"')"),text:"@".concat(this.tag(vt(t)(this.state)))}},i=t===c?"bg-tertiary rounded px-1":"";return'<a\n      data-id="'.concat(t,'"\n      class="font-extrabold cursor-pointer hover:underline ').concat(i,'"\n      onclick="').concat(r[e].onClick,'">').concat(r[e].text,"</a>")}},{key:"tag",value:function(e){var t,n=(e.discriminator||0).toString().padStart(4,"0");return"".concat(null!==(t=e.username)&&void 0!==t?t:"Unknown","#").concat(n)}}]),e}(),Mn=function(){var e=Object(d.d)().getState();return new kn(e)},Rn=function(){var e=new Tn,t=Mn();return function(n){return e.toHTML(t.toHTML(n))}},Ln=n(164),Dn=n.n(Ln),Gn=function(e){var t=e.message,n=Object(d.b)(),c=Rn(),a=Object(d.c)((function(e){return e.ui.editingMessageId})),r=(t.content?Dn()(c(t.content),"a"):"")+(t.updatedAt&&t.content?'<span\n          class="select-none muted edited text-xs ml-1"\n          title="'.concat(t.updatedAt,'">(edited)</span>'):""),i=function(){var e;return Object(f.jsx)(f.Fragment,{children:null===(e=t.attachmentURLs)||void 0===e?void 0:e.map((function(e){return Object(f.jsx)("img",{style:{maxWidth:"384px"},className:"my-2 cursor-pointer",onClick:function(){return n((t=e,function(e){e(x.focusedResource(t)),e(x.openedModal("ImagePreview"))}));var t},src:"https://api.accord.app/assets"+e,onError:function(e){e.currentTarget.onerror=null,e.currentTarget.src="".concat("https://api.accord.app/assets","/images/image-not-found.png")}},e)}))})};return a===t.id?Object(f.jsx)(An,{content:t.content}):Object(f.jsx)("div",{className:"relative",children:Object(f.jsxs)("div",{style:{maxWidth:"963px"},className:"normal whitespace-pre-wrap",children:[Object(f.jsx)("div",{dangerouslySetInnerHTML:{__html:r},className:"overflow-auto",style:{maxWidth:"100%"}}),Object(f.jsx)(i,{})]})})},Un=function(e){var t=e.message,n=function(e){return e.getTime()/1e3/60/60/24},c=new Date(t.createdAt),a=new Date((new Date).setHours(0,0,0,0)),r=Math.floor(n(a)-n(c));return Object(f.jsx)("span",{children:nt()(c).format(a.getDate()===c.getDate()?"[Today at] HH:mm":1===r?"[Yesterday at] HH:mm":"DD/MM/YYYY")})},Pn=function(e){var t,n=e.author,c=e.message,a=e.isExtra,r=void 0!==a&&a,i=Object(d.c)((function(e){return e.ui.activeGuild})),s=Object(d.c)(ve(i.id,c.authorId)),o=Object(d.c)(we(i.id,null!==(t=null===s||void 0===s?void 0:s.userId)&&void 0!==t?t:""));return r?null:!c.system&&n?Object(f.jsxs)("div",{children:[Object(f.jsx)(Q.b,{id:n.id,children:Object(f.jsx)("span",{style:{color:o.color},className:"text-base heading hover:underline cursor-pointer mr-2",children:n.username})}),Object(f.jsx)("span",{className:"text-xs",children:Object(f.jsx)(Un,{message:c})})]}):Object(f.jsx)("span",{className:"text-xs muted",children:Object(f.jsx)(Un,{message:c})})},Bn=function(e){var t=e.message,n=Object(d.c)(vt(t.authorId)),c=Object(d.c)(Ht(t.channelId)),a=new Date(t.createdAt),r=function(){var e=c.findIndex((function(e){return e.id===t.id})),n=c[e-1];if(!n)return!1;return nt()(a).diff(n.createdAt,"minutes")<=5&&n.authorId===t.authorId}(),i=function(){var e=Object(d.b)();return t.system&&"GUILD_MEMBER_JOIN"===t.type?Object(f.jsx)(de.a,{className:"ml-8 mt-1.5",color:"var(--success)",icon:le.b,"data-v-2fa051cc":""}):t.system&&"GUILD_MEMBER_LEAVE"===t.type?Object(f.jsx)(de.a,{className:"ml-8 mt-1.5",color:"var(--danger)",icon:le.a,"data-v-2fa051cc":""}):t.system?Object(f.jsx)(de.a,{className:"ml-8 mt-2",color:"var(--tertiary)",icon:le.o,"data-v-2fa051cc":""}):r?Object(f.jsx)("span",{className:"timestamp text-xs select-none","data-v-2fa051cc":"",children:nt()(a).format("HH:mm")}):Object(f.jsx)(ct,{className:"rounded-full cursor-pointer w-10 h-10",src:"".concat("https://api.accord.app/assets").concat(n.avatarURL),onError:function(e){return e.currentTarget.src="".concat("https://api.accord.app/assets","/avatars/unknown.png")},onClick:function(){return e(E(n))},alt:n.username,"data-v-2fa051cc":""})};return Object(f.jsxs)(Q.b,{id:t.id,"data-v-2fa051cc":"",children:[Object(f.jsxs)("div",{className:j()("message flex",{"mt-4":!r}),"data-v-2fa051cc":"",children:[Object(f.jsx)("div",{className:"flex-shrink-0 left-side text-xs w-16 mr-2 pl-5 pt-1","data-v-2fa051cc":"",children:Object(f.jsx)(i,{"data-v-2fa051cc":""})}),Object(f.jsxs)("div",{className:"relative flex-grow px-2","data-v-2fa051cc":"",children:[Object(f.jsx)("div",{className:"absolute toolbar right-0 -mt-3 z-10","data-v-2fa051cc":"",children:Object(f.jsx)(En,{message:t,"data-v-2fa051cc":""})}),t.system?Object(f.jsxs)("div",{className:"my-1","data-v-2fa051cc":"",children:[Object(f.jsx)(Gn,{message:t,"data-v-2fa051cc":""}),Object(f.jsx)(Pn,{message:t,"data-v-2fa051cc":""})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Pn,{author:n,message:t,isExtra:r,"data-v-2fa051cc":""}),Object(f.jsx)(Gn,{message:t,"data-v-2fa051cc":""})]})]}),Object(f.jsx)("div",{className:"right-side w-12","data-v-2fa051cc":""})]}),Object(f.jsx)(wn,{message:t,"data-v-2fa051cc":""})]},t.id)},Vn=function(e){var t=e.canRead,n=Object(d.c)((function(e){return e.ui.activeChannel}));return Object(f.jsxs)("div",{className:"m-4 pb-6 border-bottom",children:[Object(f.jsx)("span",{className:"rounded-full",children:Object(f.jsx)(de.a,{className:"muted",icon:t?le.m:le.k,size:"3x"})}),Object(f.jsx)("h1",{className:"text-3xl font-bold my-2",children:t?"Welcome to #".concat(n.name,"!"):"Message history hidden."}),Object(f.jsx)("p",{className:"lead",children:t?"This is the start of the #".concat(n.name," channel."):"Insufficient permissions to view messages in this channel."})]})},Hn=function(){return Object(f.jsx)("div",{className:"rounded-md px-5 py-2 max-w-sm w-full",children:Object(f.jsxs)("div",{className:"animate-pulse flex space-x-4",children:[Object(f.jsx)("div",{className:"rounded-full bg-bg-tertiary h-10 w-10"}),Object(f.jsxs)("div",{className:"flex-1 space-y-4 py-1",children:[Object(f.jsx)("div",{className:"h-4 bg-bg-tertiary rounded w-3/4"}),Object(f.jsxs)("div",{className:"space-y-2",children:[Object(f.jsx)("div",{className:"h-4 bg-bg-tertiary rounded"}),Object(f.jsx)("div",{className:"h-4 bg-bg-tertiary rounded w-5/6"})]})]})]})})},Fn=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.ui.activeChannel})),n=Object(d.c)((function(e){return e.ui.activeGuild})),c=Object(d.c)(Ht(t.id)),r=Ae(),i=Object(a.useState)({}),s=Object(I.a)(i,2),o=s[0],l=s[1],u=Object(a.useRef)(null),b=Object(d.c)((function(e){return e.entities.messages.total[t.id]})),j=b===c.length;Object(a.useEffect)((function(){var e;u.current.scroll({top:null===(e=u.current)||void 0===e?void 0:e.scrollHeight})}),[c[c.length-1]]),Object(a.useEffect)((function(){document.querySelector("#messageBox").focus(),e(Ft(t.id,25))}),[t.id]);var m=r.canInChannel("READ_MESSAGES",n.id,t.id),h=function(){return Object(f.jsx)(f.Fragment,{children:!(m&&j)&&new Array(m?2:6).fill(0).map((function(e,t){return Object(f.jsx)(Hn,{},t)}))})};return Object(f.jsxs)("div",{className:"h-full flex flex-col flex-grow",children:[Object(f.jsxs)("div",{id:"messages",ref:u,className:"overflow-auto mb-5 mr-1 mt-1 flex-grow",onScroll:function(n){if(!(u.current.scrollTop>0||j)){var a=c.length+25;e(Ft(t.id,a))}},children:[Object(f.jsx)(Vn,{canRead:m}),Object(f.jsx)(h,{}),m&&c.map((function(e){return Object(f.jsx)(Bn,{message:e},e.id)}))]}),Object(f.jsx)(An,{cachedContent:o,setCachedContent:l})]})},zn=function(e){var t=e.member,n=function(e){return e.slice(1)},c=n(t.roleIds),r=Ae(),i=Object(d.b)(),s=Object(d.c)((function(e){return e.ui.activeGuild})),o=n(Object(d.c)(oe(s.id))),l=Object(a.useState)(c),b=Object(I.a)(l,2),j=b[0],m=b[1],h={control:function(){return{width:"200px",backgroundColor:"var(--bg-secondary)"}},option:function(e,t){var n=t.data;return Object(u.a)(Object(u.a)({},e),{},{color:n.color,backgroundColor:"var(--bg-secondary)",cursor:n.disabled?"not-allowed":"pointer",opacity:n.disabled?.5:1})},input:function(e){return Object(u.a)(Object(u.a)({},e),{},{color:"var(--font)"})},menu:function(e){return Object(u.a)(Object(u.a)({},e),{},{backgroundColor:"var(--bg-secondary)"})},multiValue:function(e){return Object(u.a)(Object(u.a)({},e),{},{color:"var(--font)",backgroundColor:"var(--bg-tertiary)"})},indicatorSeparator:function(){return{display:"none"}},indicatorsContainer:function(e){return Object(u.a)(Object(u.a)({},e),{},{float:"right"})},multiValueLabel:function(e,t){var n=t.data;return Object(u.a)(Object(u.a)({},e),{},{color:n.color,backgroundColor:"var(--bg-tertiary)"})}},p=JSON.stringify(j)!==JSON.stringify(c),O=function(e){return{label:e.name,value:e.id,color:e.color,disabled:!r.memberIsHigher(s.id,[e.id])}};return Object(f.jsx)("div",{onClick:function(e){return e.preventDefault()},children:Object(f.jsx)(Me.a,{defaultValue:j.map((function(e){var t=o.find((function(t){return t.id===e}));return t?O(t):void 0})),name:"colors",options:o.map(O),isOptionDisabled:function(e){return e.disabled},onChange:function(e){return m(e.map((function(e){return e.value})))},onMenuClose:function(){return p&&i((e=t.id,n={roleIds:j},function(t){t(U.wsCallBegan({event:"GUILD_MEMBER_UPDATE",data:Object(u.a)({memberId:e},n)}))}));var e,n},styles:h,placeholder:"Add roles...",noOptionsMessage:function(){return"No roles to add"},isMulti:!0})})},Wn=function(e){var t,n=e.user,c=Object(d.b)(),a=Ae(),r=Object(d.c)((function(e){return e.auth.user})),i=Object(d.c)((function(e){return e.ui.activeGuild})),s=Object(d.c)(ve(i.id,n.id)),o=Object(d.c)((function(e){return e.config.devMode})),l=n.id===r.id,u=null===(t=r.ignored)||void 0===t?void 0:t.userIds.includes(s.userId),b=a.can("KICK_MEMBERS",i.id),j=a.can("MANAGE_ROLES",i.id);return Object(f.jsxs)(Q.a,{id:n.id,className:"bg-bg-tertiary p-2 rounded shadow",children:[Object(f.jsxs)(Q.c,{onClick:function(){return c(E(n))},className:"flex items-center justify-between cursor-pointer",children:[Object(f.jsx)("span",{children:"View Profile"}),Object(f.jsx)(de.a,{icon:le.x})]}),n.id!==r.id&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("hr",{className:"my-2 border-bg-primary"}),Object(f.jsxs)(Q.c,{className:"flex items-center justify-between  cursor-pointer danger",children:[Object(f.jsx)("span",{onClick:function(){return c((e=s.userId,function(t,n){var c;console.log("hi");var a=n().auth.user,r=JSON.parse(JSON.stringify(a.ignored));if(r.userIds=null!==(c=r.userIds)&&void 0!==c?c:[],r.userIds.includes(e)){var i=r.userIds.indexOf(e);r.userIds.splice(i,1)}else r.userIds.push(e);t(U.wsCallBegan({event:"USER_UPDATE",data:{token:G(),ignored:r}}))}));var e},children:u?"Unblock":"Block"}),Object(f.jsx)(de.a,{icon:le.c})]})]}),(b||j)&&Object(f.jsxs)("div",{children:[Object(f.jsx)("hr",{className:"my-2 border-bg-primary"}),Object(f.jsx)(S,{title:"Manage Roles",className:"pb-2"}),!l&&a.can("KICK_MEMBERS",i.id)&&Object(f.jsx)(Q.c,{className:"danger cursor-pointer mb-2",onClick:function(){var e,t,a=n.discriminator.toString().padStart(4,"0");window.confirm("Kick ".concat(n.username,"#").concat(a))&&c((e=i.id,t=n.id,function(n){n(U.wsCallBegan({event:"GUILD_MEMBER_REMOVE",data:{guildId:e,userId:t}}))}))},children:Object(f.jsxs)("span",{children:["Kick ",n.username]})}),a.can("MANAGE_ROLES",i.id)&&Object(f.jsx)(zn,{member:s})]}),Object(f.jsx)("div",{className:"my-4"}),o&&Object(f.jsx)(ue,{ids:[{title:"User ID",id:n.id},{title:"Member ID",id:s.id}]})]})},$n=function(){var e,t=Ae(),n=Object(d.c)((function(e){return e.ui.activeGuild})),c=Object(d.c)((function(e){return e.config.memberListToggled})),a=Object(d.c)((e=n.id,Object(O.a)((function(e){return e.entities.roles}),(function(t){return t.filter((function(t){return t.guildId===e&&t.hoisted}))})))),r=Object(d.c)(function(e){return Object(O.a)((function(e){return e.entities.members}),(function(t){return t.filter((function(t){return t.guildId===e}))}))}(n.id)),i=Object(d.c)(function(e){return Object(O.a)((function(e){return{members:e.entities.members,users:e.entities.users}}),(function(t){var n=t.members,c=t.users;return n.filter((function(t){return t.guildId===e})).map((function(e){return c.find((function(t){return t.id===e.userId}))}))}))}(n.id)).filter((function(e){var c=r.find((function(t){return t.userId===e.id}));return t.canMember("VIEW_CHANNELS",n,c)})),s=function(e){var t=e.category,c=e.filter,a=i.filter(c).sort((function(e,t){return e.username.localeCompare(t.username)}));return a.length?Object(f.jsxs)("div",{children:[Object(f.jsx)(S,{className:"pt-6 pr-2 pl-4 h-10 mb-2 ml-2",title:t,count:a.length}),a.map((function(e){return Object(f.jsxs)(Q.b,{id:e.id,children:[Object(f.jsx)("div",{className:"m-2",children:Object(f.jsx)(rt,{guild:n,user:e})}),Object(f.jsx)(Wn,{user:e})]},e.id)}))]}):null},o=function(e){return r.find((function(t){return t.userId===e})).roleIds},l=function(e,t){return e.position<t.position?1:-1},u=function(e){return o(e.id).map((function(e){return a.find((function(t){return e===t.id}))})).filter((function(e){return e})).sort(l).map((function(e){return e.id}))};return c?Object(f.jsxs)("div",{className:"overflow-auto bg-bg-secondary w-64",children:[a.map((function(e){return Object(f.jsx)(s,{category:e.name,filter:function(t){return o(t.id).includes(e.id)&&u(t)[0]===e.id&&"ONLINE"===t.status}},e.id)})),Object(f.jsx)(s,{category:"Online",filter:function(e){return"ONLINE"===e.status&&!u(e).length}}),Object(f.jsx)(s,{category:"Offline",filter:function(e){return"OFFLINE"===e.status}})]}):null},Kn=function(){var e,t=Object(l.i)(),n=t.channelId,c=t.guildId,r=Object(d.b)(),i=Object(d.c)((function(e){return e.ui})),s=Object(d.c)(ie(c)),o=Object(d.c)($(n)),u=Object(d.c)(se(c));if(Object(a.useEffect)((function(){r(x.pageSwitched({channel:o,guild:s}))}),[s,o]),!s)return Object(f.jsx)(l.a,{to:"/channels/@me"});if(u.length&&!n){var b=u[0];return Object(f.jsx)(l.a,{to:"/channels/".concat(s.id,"/").concat(b.id)})}return i.activeGuild?Object(f.jsxs)(sn,{pageTitle:null!==(e=null===o||void 0===o?void 0:o.name)&&void 0!==e?e:s.name,children:[Object(f.jsx)(yn,{}),o?Object(f.jsxs)("div",{className:"bg-bg-primary",children:[Object(f.jsx)(fn,{}),Object(f.jsxs)("div",{style:{height:"calc(100vh - 48px)"},className:"flex",children:[i.activeChannel&&{TEXT:Object(f.jsx)(Fn,{}),VOICE:Object(f.jsx)("div",{className:"w-full p-2",children:"Add something cool here for voice channels?"})}[o.type],Object(f.jsx)($n,{})]})]}):Object(f.jsx)("div",{className:"bg-bg-tertiary"})]}):null},Yn=(n(215),n(73)),qn=n.n(Yn),Jn=function(){var e=Object(d.b)(),t=Object(R.a)();return Object(f.jsxs)("div",{children:[Object(f.jsx)("hr",{className:"border-gray-500 my-4"}),Object(f.jsxs)("div",{className:"flex items-end",children:[Object(f.jsx)(Y,{type:"text",name:"code",label:"Verify Code",className:"w-full mr-2",register:t.register}),Object(f.jsx)(q,{type:"button",onClick:function(){return e(Ct(t.getValues().code))},className:"bg-success text-black h-10",children:"Verify"})]})]})},Zn=function(){var e,t=Object(d.b)(),n=Object(R.a)(),c=n.register,r=n.handleSubmit,i=n.getValues,s=Object(d.c)((function(e){return e.auth.user})),u=Object(d.c)((function(e){return e.auth.shouldVerify})),b=new URLSearchParams(Object(l.h)().search),j=Object(a.useState)(null!==(e=b.get("email"))&&void 0!==e?e:""),m=Object(I.a)(j,2),h=m[0],p=m[1];return s?Object(f.jsx)(l.a,{to:"/channels/@me","data-v-104c06bf":""}):Object(f.jsxs)(sn,{pageTitle:"accord.app | Login","data-v-104c06bf":"",children:[Object(f.jsx)("div",{className:"flex items-center absolute justify-center h-screen","data-v-104c06bf":"",children:Object(f.jsxs)("form",{className:"rounded-md shadow bg-bg-primary p-8",onSubmit:r((function(e){return t(function(e){return function(t){t(U.restCallBegan({onSuccess:[],method:"post",data:e,url:"/auth/login",callback:function(e){e.token&&(localStorage.setItem("token",e.token),t(Et())),e.message&&(t(Nt.shouldVerify()),t(w({content:e.message,variant:"info"})))}}))}}(e))})),"data-v-104c06bf":"",children:[Object(f.jsx)("h1",{className:"text-3xl font-bold","data-v-104c06bf":"",children:"Welcome back!"}),Object(f.jsx)("p",{className:"lead","data-v-104c06bf":"",children:"We're so excited to see you again!"}),Object(f.jsx)(Y,{label:"Email",name:"email",register:c,className:"mt-3",defaultValue:h,onInput:function(e){return p(e.currentTarget.value)},"data-v-104c06bf":""}),Object(f.jsx)(Y,{label:"Password",name:"password",type:"password",register:c,className:"mt-3","data-v-104c06bf":""}),Object(f.jsx)(o.b,{to:"#",onClick:function(){return t(function(e){return function(t){e&&t(U.restCallBegan({callback:function(){return t(w({variant:"info",content:"Sent reset password instructions to email, if email is registered"}))},url:"/auth/email/forgot-password?email=".concat(e)}))}}(i().email))},"data-v-104c06bf":"",children:"Forgot your password?"}),u&&Object(f.jsx)(Jn,{"data-v-104c06bf":""}),Object(f.jsx)(q,{className:"bg-primary font w-full h-11 rounded-md mt-8","data-v-104c06bf":"",children:u?"Resend Code":"Login"}),Object(f.jsxs)("p",{className:"mt-2","data-v-104c06bf":"",children:["Need an account? ",Object(f.jsx)(o.b,{to:"/register".concat(h&&"?email=".concat(h)),"data-v-104c06bf":"",children:"Register"})]})]})}),Object(f.jsx)(qn.a,{width:"100%",height:"100%","data-v-104c06bf":""})]})},Qn=(n(553),function(){var e,t=Object(d.c)((function(e){return e.auth.user})),n=Object(d.b)(),c=Object(R.a)(),r=c.register,i=c.handleSubmit,s=new URLSearchParams(Object(l.h)().search),u=Object(a.useState)(null!==(e=s.get("email"))&&void 0!==e?e:""),b=Object(I.a)(u,2),j=b[0],m=b[1];return t?Object(f.jsx)(l.a,{to:"/channels/@me","data-v-b1ae46d3":""}):Object(f.jsxs)(sn,{"data-v-b1ae46d3":"",children:[Object(f.jsx)("div",{className:"flex items-center justify-center absolute h-screen","data-v-b1ae46d3":"",children:Object(f.jsxs)("form",{className:"rounded-md shadow bg-bg-primary p-8",onSubmit:i((function(e){return n(function(e){return function(t){t(U.restCallBegan({onSuccess:[Nt.loggedIn.type],method:"post",data:e,url:"/auth/register",callback:function(e){localStorage.setItem("token",e),t(Et())}}))}}(e))})),"data-v-b1ae46d3":"",children:[Object(f.jsx)("h1",{className:"text-2xl font-bold mb-8 text-center","data-v-b1ae46d3":"",children:"Create an account"}),Object(f.jsx)(Y,{label:"Email",name:"email",register:r,className:"mt-3",defaultValue:j,onInput:function(e){return m(e.currentTarget.value)},"data-v-b1ae46d3":""}),Object(f.jsx)(Y,{label:"Username",name:"username",register:r,className:"mt-3","data-v-b1ae46d3":""}),Object(f.jsx)(Y,{label:"Password",name:"password",type:"password",register:r,className:"mt-3","data-v-b1ae46d3":""}),Object(f.jsx)(q,{className:"bg-primary font w-full h-11 rounded-md mt-8","data-v-b1ae46d3":"",children:"Register"}),Object(f.jsx)("p",{className:"mt-2","data-v-b1ae46d3":"",children:Object(f.jsx)(o.b,{to:"/login".concat(j&&"?email=".concat(j)),"data-v-b1ae46d3":"",children:"Already have an account?"})})]})}),Object(f.jsx)(qn.a,{width:"100%",height:"100%","data-v-b1ae46d3":""})]})}),Xn=function(){var e=Object(d.b)();return Object(a.useEffect)((function(){e(x.pageSwitched({channel:null,guild:null}))}),[]),Object(f.jsxs)(sn,{className:"bg-bg-primary h-full w-full",pageTitle:"accord.app",children:[Object(f.jsx)(yn,{}),Object(f.jsx)(fn,{}),Object(f.jsx)("div",{className:"bg-bg-primary h-full w-full flex flex-col flex-grow"})]})},ec=function(){return Object(d.b)()(wt()),Object(f.jsx)(l.a,{to:"/",push:!0})},tc=function(){var e=Object(d.b)();Object(a.useEffect)((function(){e(Et()),e(an())}),[]);var t=["Did Discord steal our idea?!?!","ADAMJR, Stop refactoring code please. okthxbye.","Sample Text.","!('Hello World')","May work on a Tesla","Please subscribe.","Hi YouTube!","accord.includes('VOICE_CHANNEL') === false","This message is officially dumb.","This message is funny.","Dear Bill Gates please buy my app okthxbye.","Is coding the same as programming? :thinking:","TypeError: There may be bugs.","What is a Discord? :thinking:","What's your Skype? Wait, actually I don't want your IP. Cya.","Started in 2020.","Disclaimer: Not actually a Discord clone."],n=Math.floor(Math.random()*t.length);return Object(f.jsx)(sn,{pageTitle:"Loading...",className:"flex items-center justify-center h-screen",children:Object(f.jsxs)("div",{className:"text-center",children:[Object(f.jsx)("h1",{className:"text-3xl",children:"Loading..."}),Object(f.jsx)("p",{className:"lead block",children:t[n]})]})})},nc=function(e){var t=Object(d.c)((function(e){return e.auth.user})),n=Object(d.c)((function(e){return e.meta.fetchedEntities}));return Object(d.c)((function(e){return e.auth.attemptedLogin}))&&!t?Object(f.jsx)(l.a,{to:"/login"}):t&&n?Object(f.jsx)(l.b,Object(u.a)({},e)):Object(f.jsx)(tc,{})},cc=function(){return Object(f.jsxs)(sn,{className:"relative w-screen h-screen",pageTitle:"accord.app | Not Found",children:[Object(f.jsxs)("header",{className:"absolute text-center bottom-1/2 right-1/2",children:[Object(f.jsx)("h1",{className:"text-4xl pb-3",children:"Not Found"}),Object(f.jsx)(o.b,{to:"/",children:Object(f.jsx)(m,{children:"Return Home"})})]}),Object(f.jsx)(qn.a,{width:"100%",height:"100%"})]})},ac=function(){var e,t=Object(d.c)((function(e){return e.auth.user})),n=Object(d.b)(),c=null===(e=new URLSearchParams(Object(l.h)().search).get("code"))||void 0===e?void 0:e.toString();return Object(a.useEffect)((function(){c&&n(Ct(c))}),[]),t?Object(f.jsx)(l.a,{to:"/channels/@me"}):c?Object(f.jsx)(tc,{}):Object(f.jsx)(l.a,{to:"/"})};function rc(){var e=Object(d.b)();return Object(a.useEffect)((function(){e(Et()),e((function(e,t){var n,c=t().auth.user,a=t().entities.channels,r={},i=Object(Kt.a)(a);try{for(i.s();!(n=i.n()).done;){var s,o=n.value;c.lastReadMessageIds[o.id],r[o.id]=null!==(s=r[o.id])&&void 0!==s?s:[],r[o.id].push(o.id)}}catch(l){i.e(l)}finally{i.f()}e(qt.initialized(r))}))}),[]),Object(f.jsx)(o.a,{basename:"",children:Object(f.jsxs)(l.d,{children:[Object(f.jsx)(l.b,{exact:!0,path:"/",component:jn}),Object(f.jsx)(l.b,{exact:!0,path:"/login",component:Zn}),Object(f.jsx)(l.b,{exact:!0,path:"/register",component:Qn}),Object(f.jsx)(l.b,{exact:!0,path:"/logout",component:ec}),Object(f.jsx)(l.b,{exact:!0,path:"/verify",component:ac}),Object(f.jsx)(nc,{exact:!0,path:"/channels/@me",component:Xn}),Object(f.jsx)(nc,{exact:!0,path:"/channels/:guildId/:channelId?",component:Kn}),Object(f.jsx)(l.b,{path:"*",component:cc})]})})}var ic=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,591)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},sc=n(46),oc=n(165),lc=n.n(oc),dc=function(e){return function(t){return function(){var n=Object(te.a)(ee.a.mark((function n(c){var a,r,i,s,o,l,d,u,b,j,f,m,h,p,O;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.type===U.restCallBegan.type){n.next=2;break}return n.abrupt("return",t(c));case 2:return a=c.payload,r=a.url,i=a.method,s=a.data,o=a.onSuccess,l=a.headers,d=a.callback,t(c),n.prev=4,n.next=7,lc.a.request({baseURL:"https://api.accord.app/v2",data:s,method:i,url:r,headers:l});case 7:if(u=n.sent,b=u.data,e.dispatch(U.restCallSucceded(b)),o){j=Object(Kt.a)(o);try{for(j.s();!(f=j.n()).done;)m=f.value,e.dispatch({type:m,payload:b})}catch(v){j.e(v)}finally{j.f()}}if(n.t0=d,!n.t0){n.next=15;break}return n.next=15,d(b);case 15:n.next=22;break;case 17:n.prev=17,n.t1=n.catch(4),O=n.t1.response,e.dispatch(U.restCallFailed({url:r,response:O})),e.dispatch(w({content:null!==(h=null===O||void 0===O||null===(p=O.data)||void 0===p?void 0:p.message)&&void 0!==h?h:"Unknown Error",variant:"error"}));case 22:case"end":return n.stop()}}),n,null,[[4,17]])})));return function(e){return n.apply(this,arguments)}}()}},uc=function(e){return function(t){return function(){var n=Object(te.a)(ee.a.mark((function n(c){var a,r,i,s,o,l;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.type===U.wsCallBegan.type){n.next=2;break}return n.abrupt("return",t(c));case 2:a=c.payload,r=a.data,i=a.event,t(c),s=function(){Dt.off(i,o),Dt.off("error",l)},o=function(t){s(),e.dispatch(U.wsCallSucceded({event:i,payload:t}))},l=function(t){s(),e.dispatch(U.wsCallFailed({event:i,payload:t}))},Dt.on(i,o),Dt.on("error",l),Dt.emit(i,r);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}};n(572);s.a.render(Object(f.jsx)(A.a,{maxSnack:1,children:Object(f.jsx)(d.a,{store:Object(p.a)({middleware:[].concat(Object(L.a)(Object(p.d)({serializableCheck:!1})),[uc,dc]),reducer:Object(sc.b)({auth:yt,config:ut,entities:Object(sc.b)({channels:F,invites:We,guilds:ae,members:Oe,messages:$t,pings:Jt,typing:Bt,roles:ye,users:pt}),meta:ft,ui:N})}),children:Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(rc,{})})})}),document.getElementById("root")),ic()},76:function(e,t,n){"use strict";(function(e){var c=n(158),a=new c.EventEmitter;e.events=a,t.a=a}).call(this,n(63))}},[[573,1,2]]]);
//# sourceMappingURL=main.3669e3e2.chunk.js.map